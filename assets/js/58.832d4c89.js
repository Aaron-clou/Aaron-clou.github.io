(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{544:function(s,a,n){"use strict";n.r(a);var e=n(18),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"å®šä¹‰ã€è¯æ˜ã€ç®—æ³•æ­£ç¡®æ€§çš„æ¡ˆä¾‹ç ”ç©¶-gcd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å®šä¹‰ã€è¯æ˜ã€ç®—æ³•æ­£ç¡®æ€§çš„æ¡ˆä¾‹ç ”ç©¶-gcd"}},[s._v("#")]),s._v(" å®šä¹‰ã€è¯æ˜ã€ç®—æ³•æ­£ç¡®æ€§çš„æ¡ˆä¾‹ç ”ç©¶:GCD")]),s._v(" "),n("blockquote",[n("p",[n("em",[s._v("K. Rustan M. Leino Manuscript KRML 279, 22 June 2021")])])]),s._v(" "),n("p",[n("strong",[s._v("æ‘˜è¦")]),s._v(" æœ¬æ–‡çš„ç›®çš„æ˜¯å±•ç¤ºä¸€ä¸ªç¨‹åºå¼€å‘çš„ç¤ºä¾‹ï¼Œä»‹ç»æ”¯æŒç¨‹åºè§„èŒƒçš„å®šä¹‰ï¼Œé™ˆè¿°å’Œè¯æ˜é‚£äº›å®šä¹‰çš„å¼•ç†ï¼Œå¹¶ä½¿ç”¨å¼•ç†æ¥è¯æ˜ç¨‹åºçš„æ­£ç¡®æ€§ã€‚ä»¥æ¬§å‡ é‡Œå¾—çš„è®¡ç®—æœ€å¤§å…¬çº¦æ•°çš„å‡æ³•ç®—æ³•ä¸ºä¾‹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"é—®é¢˜æè¿°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜æè¿°"}},[s._v("#")]),s._v(" é—®é¢˜æè¿°")]),s._v(" "),n("p",[s._v("è®©æˆ‘ä»¬æŒ‡å®šå¹¶éªŒè¯ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä¸¤ä¸ªæ•°çš„æœ€å¤§å…¬çº¦æ•°(GCD)ã€‚åœ¨è§„èŒƒä¸­ï¼Œæˆ‘ä»¬å°†å¼•å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„å®šä¹‰â€œæ˜¾ç„¶æ˜¯æ­£ç¡®çš„â€ã€‚æˆ‘ä»¬ä¸ä¼šä½¿ç”¨è¿™ä¸ªå‡½æ•°æ¥è®¡ç®—GCDï¼Œå› ä¸ºå¦‚æœç›´æ¥ç¼–è¯‘çš„è¯ï¼Œâ€œæ˜æ˜¾æ­£ç¡®â€çš„å®šä¹‰ä¼šç»™å‡ºéå¸¸ä½æ•ˆçš„ä»£ç ã€‚ç›¸åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Euclidç®—æ³•æ¥è®¡ç®—â€œæ˜æ˜¾æ­£ç¡®â€å‡½æ•°å®šä¹‰çš„å€¼ã€‚æˆ‘ä»¬å°†è¯æ˜è¿™ä¸ªç®—æ³•ç¡®å®è®¡ç®—å‡ºäº†è¿™ä¸ªå€¼ã€‚")]),s._v(" "),n("p",[s._v("æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬æœ‰")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Gcd(x: pos, y: pos): pos\n\nmethod EuclidGcd(x: pos, y: pos) returns (gcd: pos)\n  ensures gcd == Gcd(x, y)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("å…¶ä¸­"),n("code",[s._v("pos")]),s._v("è¡¨ç¤ºæ­£æ•´æ•°çš„ç±»å‹ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ­£æ•´æ•°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ­£æ•´æ•°"}},[s._v("#")]),s._v(" æ­£æ•´æ•°")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬æ‰€åšçš„ä¸€åˆ‡éƒ½ä¸æ­£æ•´æ•°æœ‰å…³ã€‚Dafnyä¸ºè‡ªç„¶æ•°(å³éè´Ÿæ•´æ•°)è€Œéæ­£æ•´æ•°æ„å»ºäº†ä¸€ç§ç±»å‹ã€‚æˆ‘ä»¬å¯ä»¥åœ¨Dafnyä¸­ä½¿ç”¨"),n("em",[s._v("å­é›†ç±»å‹")]),s._v("æ¥å®šä¹‰å®ƒä»¬:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("type pos = x | 1 <= x  // error: cannot find witness to show type is inhabited\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Dafnyæƒ³çŸ¥é“è¿™ç§ç±»å‹æ˜¯å¦æœ‰å±…æ°‘ï¼Œä½†å®ƒè‡ªå·±ä¸çŸ¥é“ã€‚å¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹æ¥è¯´ï¼Œè¿™æ— å…³ç´§è¦ï¼Œä½†æ˜¯æˆ‘ä»¬ç¡®å®éœ€è¦å¤„ç†æˆ‘ä»¬å¾—åˆ°çš„é”™è¯¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æä¾›äº†"),n("code",[s._v("witness")]),s._v("æ¡æ¬¾:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("type pos = x | 1 <= x witness 1\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("å¦‚æœæˆ‘ä»¬çœŸçš„ä¸æ„¿æ„æ˜¾ç¤ºæ˜¾ç¤ºè¯¥ç±»å‹ä¸ºéç©ºçš„witnessï¼Œæˆ‘ä»¬å¯ä»¥å†™"),n("code",[s._v("witness *")]),s._v("ï¼Œè¿™å¯¼è‡´Dafnyå°†"),n("code",[s._v("pos")]),s._v("ç±»å‹è§†ä¸ºå¯èƒ½ä¸ºç©ºã€‚å¯¹äºæˆ‘ä»¬çš„ä¾‹å­ï¼Œä½ å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ç§ï¼Œä½†å› ä¸ºæä¾›ä¸€ä¸ªå®é™…çš„è¯äººå¾ˆå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è¿™ä¹ˆåšã€‚")]),s._v(" "),n("p",[s._v("åœ¨ç»­é›†ä¸­ï¼Œå½“æˆ‘æŒ‡çš„æ˜¯æ­£æ•´æ•°æ—¶ï¼Œæˆ‘ä¼šè¯´"),n("em",[s._v("number")]),s._v("ã€‚")]),s._v(" "),n("h2",{attrs:{id:"å› ç´ "}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å› ç´ "}},[s._v("#")]),s._v(" å› ç´ ")]),s._v(" "),n("p",[s._v("ä¸€ä¸ªæ•°çš„"),n("em",[s._v("é™¤æ•°")]),s._v("æ˜¯å®ƒçš„å› æ•°ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªè°“è¯ï¼Œå®ƒè¯´æ˜äº†æ•°å­—"),n("code",[s._v("p")]),s._v("æ˜¯æ•°å­—"),n("code",[s._v("x")]),s._v("çš„å› æ•°æ˜¯ä»€ä¹ˆæ„æ€:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("predicate IsFactor(p: pos, x: pos) {\n  exists q :: p * q == x\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("æ¢å¥è¯è¯´ï¼Œ"),n("code",[s._v("p")]),s._v("æ˜¯"),n("code",[s._v("x")]),s._v("çš„å› å­ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªè¢«ä¹˜æ•°"),n("code",[s._v("q")]),s._v("ï¼Œé‚£ä¹ˆ"),n("code",[s._v("x")]),s._v("å°±æ˜¯"),n("code",[s._v("p * q")]),s._v("çš„ä¹˜ç§¯ã€‚")]),s._v(" "),n("p",[s._v("ä¸ºäº†è®¨è®ºä¸€ä¸ªæ•°å­—çš„"),n("em",[s._v("æ‰€æœ‰")]),s._v("å› å­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªå‡½æ•°"),n("code",[s._v("factors")]),s._v("ï¼Œæˆ‘ä»¬ä½¿ç”¨é›†åˆç†è§£æ¥å®šä¹‰å®ƒã€‚ä¸€ä¸ªç®€å•çš„å®šä¹‰æ˜¯:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Factors(x: pos): set<pos> {\n  set p: pos | IsFactor(p, x)  // error: set constructed must be finite\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("åœ¨Dafnyä¸­ï¼Œ"),n("code",[s._v("set")]),s._v("è¡¨ç¤ºä¸€ä¸ªæœ‰é™çš„é›†åˆ(å¯¹äºå¯èƒ½çš„"),n("em",[s._v("æ— é™")]),s._v("é›†åˆï¼Œä½¿ç”¨"),n("code",[s._v("isset")]),s._v(")ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒDafnyå¹¶æ²¡æœ‰ç«‹å³å‘ç°è¿™ä¸ªç†è§£ä¼šç”Ÿæˆä¸€ä¸ªæœ‰é™é›†ã€‚å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°åœ¨ç†è§£ä¸­æ·»åŠ å¦ä¸€ä¸ªè¿è¯ï¼Œè®©Dafnyçœ‹åˆ°é›†åˆæ˜¯æœ‰é™çš„:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Factors(x: pos): set<pos> {\n  set p: pos | p <= x && IsFactor(p, x)\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("åœ¨æ·»åŠ è¿™ä¸ªè¿è¯æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šçŠ¯ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºæ–°çš„é›†åˆå¯èƒ½æ²¡æœ‰åŒ…å«æˆ‘ä»¬æƒ³è¦çš„æ‰€æœ‰å› ç´ ã€‚æˆ‘ä»¬çš„ç»“åˆç‚¹"),n("code",[s._v("p <= x")]),s._v("å½“ç„¶çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†ä¸ºä»€ä¹ˆä¸è¯æ˜åŠ ä¸Šå®ƒä¸ä¼šæ„å¤–é—æ¼ä»»ä½•å› å­å‘¢?æˆ‘ä»¬å¯ä»¥è¯æ˜è¿™ä¸ªé›†åˆçš„å…ƒç´ ä¸å¯èƒ½æ— é™é›†ç›¸åŒ:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma FactorsHasAllFactors(x: pos)\n  ensures forall n :: n in Factors(x) <==> n in iset p: pos | IsFactor(p, x)\n{\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("å¼•ç†çš„è¯æ˜æ˜¯åœ¨å¼•ç†ä¸»ä½“ä¸­ç»™å‡ºçš„(ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¼•ç†è§„èŒƒåé¢çš„ä¸€å¯¹èŠ±æ‹¬å·ä¹‹é—´)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯æ˜æ˜¯ç©ºçš„ï¼Œå› ä¸ºDafnyè‡ªåŠ¨åœ°è¯æ˜äº†å¼•ç†ï¼Œè€Œä¸éœ€è¦æˆ‘ä»¬æä¾›ä»»ä½•è¿›ä¸€æ­¥çš„å¸®åŠ©ã€‚")]),s._v(" "),n("p",[s._v("åœ¨ç¦»å¼€å› å­çš„å®šä¹‰ä¹‹å‰ï¼Œè®©æˆ‘ä»¬è¯´æ˜å’Œè¯æ˜ä¸¤ä¸ªç®€å•çš„å¼•ç†ã€‚è¿™äº›å¼•ç†å¯ä»¥ä½œä¸ºå¯¹æˆ‘ä»¬å®šä¹‰çš„æ£€æŸ¥ï¼Œå®ƒä»¬åœ¨ä»¥åçš„å¼€å‘ä¸­ä¹Ÿä¼šå¾ˆæœ‰å¸®åŠ©ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma FactorsContains1(x: pos)\n  ensures 1 in Factors(x)\n{\n  assert 1 * x == x;\n}\n\nlemma FactorsContainsSelf(x: pos)\n  ensures x in Factors(x)\n{\n  assert x * 1 == x;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("ä¸ºäº†è¯æ˜ä¸€ä¸ªæ•°å­—"),n("code",[s._v("n")]),s._v("(è¿™é‡Œæ˜¯"),n("code",[s._v("1")]),s._v("æˆ–"),n("code",[s._v("x")]),s._v(")åœ¨é›†åˆ"),n("code",[s._v("Factors(x)")]),s._v("ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®š"),n("code",[s._v("n")]),s._v("æ»¡è¶³é›†åˆç†è§£çš„æ¡ä»¶(åœ¨"),n("code",[s._v("Factors(x)")]),s._v("ä¸»ä½“ä¸­)ã€‚è¿è¯"),n("code",[s._v("n <= x")]),s._v("è¢«è‡ªåŠ¨è¯æ˜ï¼Œä½†"),n("code",[s._v("IsFactor(n, x)")]),s._v("ä¸æ˜¯ã€‚æ ¹æ®IsFactorçš„å®šä¹‰ï¼Œæˆ‘ä»¬éœ€è¦è¯æ˜"),n("code",[s._v("n * q == x")]),s._v("çš„è¢«ä¹˜æ•°"),n("code",[s._v("q")]),s._v("çš„å­˜åœ¨æ€§ã€‚è¿™ç§è¯æ˜é€šå¸¸åŒ…æ‹¬è¯æ˜è¯äººï¼Œè¿™å°±æ˜¯ä¸Šé¢ä¸¤ä¸ªå¼•ç†ä¸­çš„æ–­è¨€é™ˆè¿°æ‰€åšçš„ã€‚ç”±è¿™äº›æ–­è¨€ï¼ŒéªŒè¯è€…å®Œæˆäº†å¼•ç†çš„è¯æ˜ã€‚")]),s._v(" "),n("h2",{attrs:{id:"é›†åˆçš„æœ€å¤§å€¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é›†åˆçš„æœ€å¤§å€¼"}},[s._v("#")]),s._v(" é›†åˆçš„æœ€å¤§å€¼")]),s._v(" "),n("p",[s._v("ä¸ºäº†è®¨è®º"),n("em",[s._v("æœ€å¤§")]),s._v("å…¬çº¦æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå‡½æ•°æ¥æŒ‘é€‰é›†åˆä¸­æœ€å¤§çš„æ•°ã€‚ä¸€ç§æœ‰ç‚¹å£°æ˜æ€§çš„æ–¹æ³•æ˜¯ä½¿ç”¨such-thatç»“æ„ã€‚ç‰¹åˆ«åœ°ï¼Œå¯¹äºé›†åˆ"),n("code",[s._v("s")]),s._v(", let-such-thatè¡¨è¾¾å¼")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("var x :| x in s && forall y :: y in s ==> y <= x;\nx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("è¡¨ç¤ºå°†"),n("code",[s._v("x")]),s._v("ç»‘å®šåˆ°æ»¡è¶³æ¡ä»¶"),n("code",[s._v("xåœ¨s &&ä¸­çš„æ‰€æœ‰y:: yåœ¨s ==> y <= x")]),s._v("çš„å€¼ï¼Œç„¶åè¿”å›è¡¨è¾¾å¼"),n("code",[s._v("x")]),s._v("çš„å€¼ã€‚è¿™ä¸ªæ¡ä»¶è¯´xåœ¨é›†åˆsä¸­ï¼Œå¹¶ä¸”åœ¨é›†åˆsä¸­ï¼Œxæ˜¯æœ€å¤§çš„ã€‚")]),s._v(" "),n("p",[s._v("ä½¿ç”¨such-thatç»“æ„æœ‰ä¸€ä¸ªè¯æ˜ä¹‰åŠ¡ï¼Œå³æ»¡è¶³ç»™å®šæ¡ä»¶çš„å€¼å­˜åœ¨ã€‚å¦‚æœæˆ‘ä»¬è¦æ±‚"),n("code",[s._v("s")]),s._v("ä¸ºéç©ºï¼Œé‚£ä¹ˆ"),n("code",[s._v("x in s")]),s._v("æ¡ä»¶å¾ˆå®¹æ˜“æ»¡è¶³ï¼Œä½†å®ƒéœ€è¦æ›´å¤šçš„å·¥ä½œæ¥è¯´æœéªŒè¯è€…"),n("code",[s._v("x")]),s._v("çš„å€¼æ»¡è¶³é‡è¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªå¼•ç†ã€‚æˆ‘ä»¬å°†å¼•ç†å‘½åä¸º"),n("code",[s._v("MaxExists")]),s._v("ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™æˆ‘ä»¬çš„å‡½æ•°"),n("code",[s._v("Max")]),s._v(":")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Max(s: set<pos>): pos\n  requires s != {}\n{\n  MaxExists(s);\n  var x :| x in s && forall y :: y in s ==> y <= x;\n  x\n}\n\nlemma MaxExists(s: set<pos>)\n  requires s != {}\n  ensures exists x :: x in s && forall y :: y in s ==> y <= x\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("Dafnyä½¿ç”¨å¼•ç†è°ƒç”¨"),n("code",[s._v("MaxExists(s)")]),s._v("æ¥å»ºç«‹åç»­è¡¨è¾¾å¼çš„æ ¼å¼è‰¯å¥½æ€§ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæ³¨æ„"),n("code",[s._v("Max")]),s._v("(ä»¥åŠå¼•ç†"),n("code",[s._v("MaxExists")]),s._v(")æœ‰ä¸€ä¸ªå‰ç½®æ¡ä»¶"),n("code",[s._v("s !={}")]),s._v("(å…³é”®å­—"),n("code",[s._v("requires")]),s._v(")ã€‚è¿™æ„å‘³ç€å‡½æ•°(ä»¥åŠå¼•ç†)åªèƒ½åœ¨éç©ºé›†åˆä¸­è°ƒç”¨ã€‚")]),s._v(" "),n("p",[s._v("é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è¯æ˜"),n("code",[s._v("MaxExists")]),s._v("å‘¢?è¯æ˜è¿™æ ·ä¸€ä¸ª"),n("code",[s._v("x")]),s._v("å­˜åœ¨çš„æœ€ç›´æ¥çš„æ–¹æ³•æ˜¯è®¡ç®—ä¸€ä¸ªæ»¡è¶³æ‰€éœ€æ€§è´¨çš„"),n("code",[s._v("x")]),s._v("ã€‚æˆ‘ä»¬å°†å¼•å…¥å¦ä¸€ä¸ªè®¡ç®—æœ€å¤§å€¼çš„å‡½æ•°ï¼Œç§°ä¸º"),n("code",[s._v("FindMax")]),s._v("ï¼Œå¹¶åœ¨"),n("code",[s._v("MaxExists")]),s._v("å¼•ç†çš„è¯æ˜ä¸­ä½¿ç”¨å®ƒã€‚å‡½æ•°"),n("code",[s._v("FindMax")]),s._v("å°†è¢«é€’å½’å®ç°ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma MaxExists(s: set<pos>)\n  requires s != {}\n  ensures exists x :: x in s && forall y :: y in s ==> y <= x\n{\n  var x := FindMax(s);\n}\n \nfunction FindMax(s: set<pos>): pos\n  requires s != {}\n  ensures max in s && forall y :: y in s ==> y <= FindMax(s)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v("æˆ‘ä»¬ç°åœ¨ä¸æ˜¯åœ¨å…œåœˆå­å—?æ˜¯çš„ï¼Œåœ¨æŸäº›æ–¹é¢ï¼Œæˆ‘ä»¬è®©ç”Ÿæ´»å˜å¾—æ¯”å¿…è¦çš„æ›´å›°éš¾ã€‚å¦‚æœæˆ‘ä»¬æœ‰"),n("code",[s._v("FindMax")]),s._v("ï¼Œæˆ‘ä»¬ä¸éœ€è¦"),n("code",[s._v("Max")]),s._v("ï¼Œç„¶åæˆ‘ä»¬ä¹Ÿä¸éœ€è¦å¼•ç†"),n("code",[s._v("MaxExists")]),s._v("ã€‚äº‹å®ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥åªç¼–å†™å’Œä½¿ç”¨"),n("code",[s._v("FindMax")]),s._v("ï¼Œè€Œä¸å¼•å…¥"),n("code",[s._v("Max")]),s._v("æˆ–"),n("code",[s._v("MaxExists")]),s._v("ã€‚ä½†åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘å¸Œæœ›ä¸»è¦çš„å®šä¹‰å°½å¯èƒ½æ¸…æ™°ï¼Œè€Œä¸è€ƒè™‘å¦‚ä½•è®¡ç®—ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼Œ"),n("code",[s._v("Max")]),s._v("çš„ä¸»ä½“æ¯”æˆ‘ä»¬å°†è¦ä¸º"),n("code",[s._v("FindMax")]),s._v("ç¼–å†™çš„ä¸»ä½“æ›´å…·å£°æ˜æ€§ã€‚")]),s._v(" "),n("p",[s._v("ä»¥ä¸‹æ˜¯"),n("code",[s._v("FindMax")]),s._v("çš„å®Œæ•´å®šä¹‰:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function FindMax(s: set<pos>): (max: pos)\n  requires s != {}\n  ensures max in s && forall y :: y in s ==> y <= max\n{\n  var x :| x in s;\n  if s == {x} then\n    x\n  else\n    var s' := s - {x};\n    assert s == s' + {x};\n    var y := FindMax(s');\n    if x < y then y else x\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("å½“å‡½æ•°çš„åç½®æ¡ä»¶æƒ³è¦æåˆ°å‡½æ•°çš„ç»“æœå€¼æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨å‡½æ•°æœ¬èº«ï¼Œç»™å‡ºå‚æ•°:"),n("code",[s._v("FindMax(s)")]),s._v("ã€‚æˆ‘åœ¨ä¸Šé¢ç¬¬ä¸€æ¬¡ä»‹ç»"),n("code",[s._v("FindMax")]),s._v("æ—¶å°±è¿™æ ·åšäº†ã€‚åœ¨å®Œæ•´çš„å®šä¹‰ä¸­ï¼Œæˆ‘å±•ç¤ºäº†å¦ä¸€ç§æ–¹æ³•ï¼Œå³ä¸ºç»“æœå€¼å¼•å…¥ä¸€ä¸ªåç§°:"),n("code",[s._v("max")]),s._v("ã€‚è¯¥åç§°åªèƒ½åœ¨å‡½æ•°çš„åç½®æ¡ä»¶ä¸­ä½¿ç”¨ã€‚å¾ˆå¤šæ—¶å€™ï¼Œä¸ºç»“æœå¼•å…¥è¿™æ ·çš„åç§°ä¼šå¯¼è‡´æ›´çŸ­çš„è§„èŒƒã€‚")]),s._v(" "),n("h2",{attrs:{id:"gcd"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gcd"}},[s._v("#")]),s._v(" GCD")]),s._v(" "),n("p",[s._v("æœ‰äº†æˆ‘ä»¬å®šä¹‰çš„å‡½æ•°ï¼Œç°åœ¨å°±å¯ä»¥å®šä¹‰GCDäº†ã€‚å–"),n("code",[s._v("x")]),s._v("çš„å› å­ä¸"),n("code",[s._v("y")]),s._v("çš„å› å­ï¼Œä¸ä¹‹ç›¸äº¤ï¼Œå¾—åˆ°å®ƒä»¬çš„å…¬å› å¼ï¼Œå–å…¶æœ€å¤§å€¼:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Gcd(x: pos, y: pos): pos {\n  var common := Factors(x) * Factors(y);\n  Max(common)  // error: common must be nonempty\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("å¯¹äºè¿™ä¸ªç®€å•çš„å®šä¹‰ï¼ŒéªŒè¯è€…æŠ¥å‘Šäº†ä¸€ä¸ªå‰ææ¡ä»¶çš„è¿åï¼Œå› ä¸ºå®ƒæ— æ³•è¯æ˜"),n("code",[s._v("common")]),s._v("æ»¡è¶³"),n("code",[s._v("Max")]),s._v("çš„å‰ææ¡ä»¶ã€‚æˆ‘ä»¬çŸ¥é“"),n("code",[s._v("å…¬å› æ•°")]),s._v("æ˜¯éç©ºçš„ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“"),n("code",[s._v("1")]),s._v("æ˜¯ä»»æ„ä¸¤ä¸ªæ•°"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("çš„å…¬å› æ•°ã€‚ä¸ºäº†å¼•èµ·éªŒè¯è€…çš„æ³¨æ„ï¼Œæˆ‘ä»¬å†™äº†ä¸€ä¸ªæ–­è¨€:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Gcd(x: pos, y: pos): pos {\n  var common := Factors(x) * Factors(y);\n  assert 1 in common;  // error: assertion violation\n  Max(common)\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("å”‰ï¼ŒéªŒè¯è€…ä¸èƒ½è¯æ˜è¿™ä¸ªæ–­è¨€ã€‚ä½†æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸€ä¸»å¼ çš„å­˜åœ¨è¶³ä»¥æ¶ˆé™¤å…ˆå†³æ¡ä»¶çš„è¿åã€‚ç°åœ¨æˆ‘ä»¬æ¥è¯æ˜è¿™ä¸ªæ–­è¨€ã€‚è¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨å‰é¢ä»‹ç»çš„"),n("code",[s._v("FactorsContains1")]),s._v("å¼•ç†çš„åœ°æ–¹ã€‚å¯¹è¯¥å¼•ç†çš„ä¸¤æ¬¡è°ƒç”¨å°†è¯æ˜æ–­è¨€ï¼Œåœ¨ç¨‹åºæ–‡æœ¬ä¸­æœ€å¥½çš„æ•è·æ–¹æ³•æ˜¯å°†"),n("code",[s._v("assert")]),s._v("æ›´æ”¹ä¸º"),n("code",[s._v("assert by")]),s._v("ï¼Œå¹¶åœ¨"),n("code",[s._v("by")]),s._v("å—ä¸­ç»™å‡ºæ–­è¨€çš„è¯æ˜:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("function Gcd(x: pos, y: pos): pos {\n  var common := Factors(x) * Factors(y);\n  assert 1 in common by {\n    FactorsContains1(x);\n    FactorsContains1(y);\n  }\n  Max(common)\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("å¤Ÿäº†!æˆ‘ä»¬ç°åœ¨å·²ç»ç»™å‡ºäº†"),n("code",[s._v("Gcd")]),s._v("çš„ä¸€ä¸ªæ ¼å¼è‰¯å¥½çš„å®šä¹‰ã€‚")]),s._v(" "),n("h2",{attrs:{id:"gcdçš„æ€§è´¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gcdçš„æ€§è´¨"}},[s._v("#")]),s._v(" GCDçš„æ€§è´¨")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬å°†è¯æ˜æˆ‘ä»¬çš„"),n("code",[s._v("Gcd")]),s._v("å‡½æ•°çš„ä¸‰ä¸ªå±æ€§â€”â€”å¦‚æœä½ æ„¿æ„ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºå¥å…¨æ£€æŸ¥ã€‚(æˆ‘ä»¬è¿˜éœ€è¦ç¬¬å››ä¸ªå±æ€§ï¼Œç¨åå†ä»‹ç»ã€‚)")]),s._v(" "),n("p",[s._v("ä½œä¸ºç¬¬ä¸€ä¸ªå®Œæ•´æ€§æ£€æŸ¥ï¼Œæˆ‘ä»¬æœŸæœ›"),n("code",[s._v("Gcd(x, y)")]),s._v("è¿”å›ä¸€ä¸ªåŒæ—¶æ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("å› å­çš„æ•°å­—ã€‚æ­¤å¤–ï¼Œåœ¨æ‰€æœ‰åŒæ—¶æ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("å› æ•°çš„æ•°å­—ä¸­ï¼Œ"),n("code",[s._v("Gcd(x, y)")]),s._v("çš„æ”¶ç›Šåº”è¯¥æ˜¯æœ€å¤§çš„ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma AboutGcd(x: pos, y: pos)\n  ensures IsFactor(Gcd(x, y), x)\n  ensures IsFactor(Gcd(x, y), y)\n  ensures forall p: pos :: IsFactor(p, x) && IsFactor(p, y) ==> p <= Gcd(x, y)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("è¿™ä¸ªå¼•ç†çš„å‰ä¸¤ä¸ªåç½®æ¡ä»¶æ˜¯è‡ªåŠ¨è¯æ˜çš„ï¼Œä½†ç¬¬ä¸‰ä¸ªä¸æ˜¯ã€‚æˆ‘ä»¬å¦‚ä½•è¯æ˜ä¸€ä¸ªå…¨ç§°é‡è¯(ä¹Ÿå°±æ˜¯forallè¡¨è¾¾å¼)æ˜¯æˆç«‹çš„?æˆ‘ä»¬ä½¿ç”¨è¾¾å¤«å°¼çš„"),n("code",[s._v("forall")]),n("em",[s._v("è¯­å¥")]),s._v('ã€‚å½“ç”¨äºè¯æ˜æ—¶ï¼Œforallå‘½é¢˜å¯¹åº”äºé€»è¾‘ä¸­çš„â€œæ™®éå¼•å…¥â€è§„åˆ™ã€‚è¿™ä¸ªè§„åˆ™è¯´çš„æ˜¯"å¦‚æœä½ æƒ³è¦è¯æ˜'),n("code",[s._v("å¯¹äºæ‰€æœ‰çš„x:: P(x)")]),s._v("ï¼Œé‚£ä¹ˆä½ æ‰€éœ€è¦åšçš„å°±æ˜¯ä»»æ„é€‰æ‹©ä¸€ä¸ª"),n("code",[s._v("x")]),s._v("ï¼Œç„¶åå¯¹é‚£ä¸ª"),n("code",[s._v("x")]),s._v("è¯æ˜"),n("code",[s._v("P(x)")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("æˆ‘ä»¬åƒè¿™æ ·å¼•å…¥"),n("code",[s._v("forall")]),s._v("è¯­å¥:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  forall p: pos | IsFactor(p, x) && IsFactor(p, y)\n    ensures p <= Gcd(x, y)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("ä¸ºäº†è¯æ˜å®ƒï¼Œæˆ‘ä»¬åªéœ€è¦æå‡ºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³"),n("code",[s._v("p")]),s._v("ï¼Œæ—¢æ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("çš„å› å­ï¼Œåˆæ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("çš„å› å­çš„äº¤é›†ã€‚éªŒè¯è€…å°±èƒ½å¤Ÿå®Œæˆè¯æ˜ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma AboutGcd(x: pos, y: pos)\n  ensures IsFactor(Gcd(x, y), x)\n  ensures IsFactor(Gcd(x, y), y)\n  ensures forall p: pos :: IsFactor(p, x) && IsFactor(p, y) ==> p <= Gcd(x, y)\n{\n  forall p: pos | IsFactor(p, x) && IsFactor(p, y)\n    ensures p <= Gcd(x, y)\n  {\n    assert p in Factors(x) * Factors(y);\n  }\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("DafnyéªŒè¯å™¨ç»å¸¸éœ€è¦è¿™æ ·çš„å±æ€§å¸®åŠ©ã€‚è¦è¯æ˜å®ƒä»¬ï¼Œå°±æŠŠå®ƒä»¬å†™æˆæ–­è¨€ã€‚æ¢å¥è¯è¯´ï¼ŒéªŒè¯è€…"),n("em",[s._v("çŸ¥é“")]),s._v("é›†åˆäº¤é›†çš„è¿™ä¸ªæ€§è´¨ï¼Œä½†å®ƒæ²¡æœ‰è¶³å¤Ÿçš„åˆ›æ„å°†è¿™ä¸ªæ€§è´¨å¼•å…¥è¯æ˜ä¸­ã€‚é€šè¿‡æ–­è¨€è¯¥å±æ€§ï¼Œæˆ‘ä»¬è¦æ±‚éªŒè¯è€…ç¡®è®¤è¯¥å±æ€§(å®ƒèƒ½å¤Ÿè¿™æ ·åš)ï¼Œç„¶ååœ¨å…¶ä½™çš„è¯æ˜ä¸­ä½¿ç”¨è¯¥å±æ€§(åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™å°±å®Œæˆäº†è¯æ˜)ã€‚")]),s._v(" "),n("p",[s._v("ä½œä¸ºç¬¬äºŒä¸ªå®Œæ•´æ€§æ£€æŸ¥ï¼Œæˆ‘ä»¬è¯æ˜äº†"),n("code",[s._v("Gcd")]),s._v("æ˜¯å¯¹ç§°çš„ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma GcdSymmetric(x: pos, y: pos)\n  ensures Gcd(x, y) == Gcd(y, x)\n{\n  assert Factors(x) * Factors(y) == Factors(y) * Factors(x);\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("è¿™ä¸ªè¯æ˜å½’ç»“åˆ°é›†åˆäº¤ç‚¹æ˜¯å¯¹ç§°çš„è¿™ä¸ªäº‹å®ï¼Œæˆ‘ä»¬æŠŠå®ƒå†™æˆå¼•ç†æ¥å¼•èµ·éªŒè¯è€…çš„æ³¨æ„ã€‚")]),s._v(" "),n("p",[s._v("ä½œä¸ºç¬¬ä¸‰ä¸ªå¥å…¨çš„æ£€éªŒï¼Œæˆ‘ä»¬è¯æ˜"),n("code",[s._v("Gcd")]),s._v("æ˜¯å¹‚ç­‰çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ç»™å®ƒç›¸åŒçš„å‚æ•°ä¸¤æ¬¡ï¼Œå®ƒä¼šè¿”å›é‚£ä¸ªå‚æ•°ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma GcdIdempotent(x: pos)\n  ensures Gcd(x, x) == x\n{\n  FactorsContainsSelf(x);\n  assert x in Factors(x) * Factors(x);\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("è¿™ä¸ªæ€§è´¨çš„è¯æ˜å¯ä»¥å½’ç»“ä¸ºé›†åˆäº¤ç‚¹æ˜¯å¹‚ç­‰çš„ï¼Œä»¥åŠä¸€ä¸ªæ•°æ˜¯å®ƒè‡ªå·±çš„å› å­ä¹‹ä¸€çš„æ€§è´¨ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ¬§å‡ é‡Œå¾·ç®—æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ¬§å‡ é‡Œå¾·ç®—æ³•"}},[s._v("#")]),s._v(" æ¬§å‡ é‡Œå¾·ç®—æ³•")]),s._v(" "),n("p",[s._v("æ¬§å‡ é‡Œå¾—çš„æ±‚å–ä¸¤ä¸ªæ•°çš„GCDçš„å‡æ³•ç®—æ³•æ˜¯å°†ä¸¤ä¸ªæ•°ä¸­çš„è¾ƒå¤§æ•°åå¤å‡å»è¾ƒå°çš„æ•°ï¼Œç›´åˆ°å®ƒä»¬ç›¸ç­‰ã€‚æ¯ä¸€ä¸ªè¿™æ ·çš„å‡æ³•éƒ½ä¿ç•™äº†GCDâ€”â€”ä¸€ä¸ªæˆ‘ä»¬éœ€è¦è¯æ˜çš„ä¸å˜é‡â€”â€”ä¸¤ä¸ªç›¸ç­‰çš„æ•°çš„GCDå°±æ˜¯é‚£ä¸ªæ•°â€”â€”è¿™ä¸ªæ•°æ˜¯æˆ‘ä»¬é€šè¿‡ä¸Šé¢çš„â€œGCDå¹‚ç­‰â€å¼•ç†å»ºç«‹çš„ã€‚")]),s._v(" "),n("p",[s._v("è¯¥ç®—æ³•å…·æœ‰å¾ªç¯ä¸å˜é‡å’Œå¹‚ç­‰å¼•ç†ï¼Œå…¶ç»“æœå¦‚ä¸‹:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("method EuclidGcd(X: pos, Y: pos) returns (gcd: pos)\n  ensures gcd == Gcd(X, Y)\n{\n  var x, y := X, Y;\n  while\n    invariant Gcd(x, y) == Gcd(X, Y)  // error: invariant not maintained\n    decreases x + y\n  {\n    case x < y =>\n      y := y - x;\n    case y < x =>\n      x := x - y;\n  }\n  GcdIdempotent(x);\n  return x;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("æ­¤æ–¹æ³•ä½¿ç”¨"),n("code",[s._v("while")]),s._v(" - "),n("code",[s._v("case")]),s._v("å¾ªç¯ã€‚(å¦‚æœæ‚¨ç†Ÿæ‚‰Dijkstraçš„ä¿æŠ¤å‘½ä»¤["),n("a",{attrs:{href:"http://leino.science/papers/krml279.html#dijkstra:discipline",target:"_blank",rel:"noopener noreferrer"}},[s._v("1"),n("OutboundLink")],1),s._v("]ï¼Œè¿™æ˜¯"),n("strong",[s._v("do-od")]),s._v("å¾ªç¯ã€‚)è¿™ä¸ªå¾ªç¯çš„æ¯æ¬¡è¿­ä»£éƒ½ä¼šé€‰æ‹©ä¸€ä¸ªcaseæ¥æ‰§è¡Œã€‚æ‰€é€‰çš„"),n("code",[s._v("case")]),s._v("å¿…é¡»æ˜¯ä¸€ä¸ªå…¶å®ˆæŠ¤æ¡ä»¶æ±‚å€¼ä¸º"),n("code",[s._v("true")]),s._v("çš„å¯¹è±¡(å¦‚æœå‡ ä¸ª"),n("code",[s._v("case")]),s._v("çš„å®ˆæŠ¤æ¡ä»¶æ±‚å€¼ä¸º"),n("code",[s._v("true")]),s._v("ï¼Œåˆ™å¾ªç¯åœ¨è¿™äº›"),n("code",[s._v("case")]),s._v("ä¹‹é—´ä»»æ„é€‰æ‹©)ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„ä¿æŠ¤æ¡ä»¶ï¼Œåˆ™å¾ªç¯åœæ­¢è¿­ä»£ã€‚"),n("code",[s._v("EuclidGcd")]),s._v("ä¸­çš„å¾ªç¯å½“ç„¶å¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„"),n("code",[s._v("while x != y")]),s._v("å¾ªç¯ï¼Œä½†"),n("code",[s._v("while")]),s._v(" - "),n("code",[s._v("case")]),s._v("å¾ªç¯æä¾›çš„ä¸¤ç§æƒ…å†µçš„å¯¹ç§°æ€§ä½¿å…¶ç¾è§‚ã€‚")]),s._v(" "),n("p",[s._v("é™¤äº†ä¸€ä¸ªå¾ªç¯ä¸å˜å¼å¤–ï¼Œå¾ªç¯è¿˜å£°æ˜äº†ä¸€ä¸ªç»ˆæ­¢åº¦é‡(å…³é”®å­—"),n("code",[s._v("decreases")]),s._v(")ã€‚è¯æ˜å¾ªç¯ç»ˆæ­¢å½’ç»“ä¸ºè¯æ˜æ¯æ¬¡è¿­ä»£ä½¿ç»ˆæ­¢åº¦é‡çš„å€¼å‡å°(æŒ‰ç…§Dafnyå†…ç½®çš„åŸºäºè‰¯å¥½åŸºç¡€çš„æ•´æ•°é¡ºåº)ã€‚")]),s._v(" "),n("p",[s._v("ä¸Šé¢çš„"),n("code",[s._v("EuclidGcd")]),s._v("æ–¹æ³•æ²¡æœ‰éªŒè¯ï¼Œå› ä¸ºéªŒè¯å™¨æ— æ³•è¯æ˜æ¯æ¬¡è¿­ä»£éƒ½ä¿æŒå¾ªç¯ä¸å˜ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦æˆ‘åœ¨ä¸Šé¢æåˆ°çš„GCDçš„ç¬¬å››ä¸ªæ€§è´¨:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma GcdSubtract(x: pos, y: pos)\n  requires x < y\n  ensures Gcd(x, y) == Gcd(x, y - x)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("åˆ©ç”¨è¿™ä¸ªå¼•ç†å’ŒGCDçš„å¯¹ç§°æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å®Œæˆ"),n("code",[s._v("GCD")]),s._v("çš„è¯æ˜:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("method EuclidGcd(X: pos, Y: pos) returns (gcd: pos)\n  ensures gcd == Gcd(X, Y)\n{\n  var x, y := X, Y;\n  while\n    invariant Gcd(x, y) == Gcd(X, Y)\n    decreases x + y\n  {\n    case x < y =>\n      GcdSubtract(x, y);\n      y := y - x;\n    case y < x =>\n      calc {\n        Gcd(x, y);\n      ==  { GcdSymmetric(x, y); }\n        Gcd(y, x);\n      ==  { GcdSubtract(y, x); }\n        Gcd(y, x - y);\n      ==  { GcdSymmetric(y, x - y); }\n        Gcd(x - y, y);\n      }\n      x := x - y;\n  }\n  GcdIdempotent(x);\n  return x;\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("è¿™ä¸ªç‰ˆæœ¬åœ¨å¾ªç¯çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ä¸­æ·»åŠ äº†å¯¹"),n("code",[s._v("GcdSubtract")]),s._v("çš„è°ƒç”¨ã€‚åœ¨å¾ªç¯çš„ç¬¬äºŒä¸ªåˆ†æ”¯ä¸­ï¼Œè¯æ˜è®¡ç®—ä½¿ç”¨ä¿æŒç­‰å¼çš„æ­¥éª¤å°†è¡¨è¾¾å¼"),n("code",[s._v("Gcd(x, y)")]),s._v("è½¬æ¢ä¸º"),n("code",[s._v("Gcd(x - y, y)")]),s._v("ã€‚æ­¥éª¤ä¸­ç»™å‡ºçš„æç¤ºæ±‚åŠ©äº"),n("code",[s._v("GcdSubtract")]),s._v("å’Œ"),n("code",[s._v("GcdSymmetric")]),s._v("å¼•ç†ã€‚")]),s._v(" "),n("h2",{attrs:{id:"gcdå‡æ€§è´¨"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#gcdå‡æ€§è´¨"}},[s._v("#")]),s._v(" GCDå‡æ€§è´¨")]),s._v(" "),n("p",[s._v("åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ"),n("code",[s._v("GcdSubtract")]),s._v("çš„è¯æ˜æ¯”å…¶ä»–ä»»ä½•å®šä¹‰å’Œå¼•ç†éƒ½è¦å¤æ‚ã€‚")]),s._v(" "),n("p",[s._v("è¯æ˜é¦–å…ˆå¼•å…¥Gcd"),n("code",[s._v("(x, y)")]),s._v("çš„åç§°:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  var p := Gcd(x, y);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("ç”±"),n("code",[s._v("Gcd")]),s._v("çš„å®šä¹‰å¯çŸ¥ï¼Œ"),n("code",[s._v("p")]),s._v("æ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("çš„å› å­ï¼Œæˆ‘ä»¬å¯ä»¥è¯æ˜"),n("code",[s._v("p")]),s._v("ä¹Ÿæ˜¯"),n("code",[s._v("y - x")]),s._v("çš„å› å­:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  assert IsFactor(p, y - x) by {\n    var a :| p * a == x;\n    var b :| p * b == y;\n    calc {\n      y - x;\n    ==\n      p * b - p * a;\n    ==\n      p * (b - a);\n    }\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("ä¸ºäº†è¯æ˜"),n("code",[s._v("IsFactor(p, y - x)")]),s._v("ï¼Œæˆ‘ä»¬å¯¹"),n("code",[s._v("IsFactor")]),s._v("çš„å®šä¹‰å‘Šè¯‰æˆ‘ä»¬å­˜åœ¨çš„è¢«ä¹˜æ•°å¼•å…¥"),n("code",[s._v("a")]),s._v("å’Œ"),n("code",[s._v("b")]),s._v("åç§°(å› ä¸º"),n("code",[s._v("p")]),s._v("æ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y")]),s._v("çš„å› å­)ã€‚ç”¨åŸºæœ¬çš„ç®—æœ¯æ­¥éª¤è¿›è¡Œç®€å•çš„è®¡ç®—ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°på¯ä»¥ä¹˜ä¸Šå¦ä¸€ä¸ªæ•°(å³"),n("code",[s._v("b - A")]),s._v(")å¾—åˆ°"),n("code",[s._v("y - x")]),s._v("ã€‚")]),s._v(" "),n("p",[s._v("å› ä¸º"),n("code",[s._v("p")]),s._v("åŒæ—¶æ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y - x")]),s._v("çš„å› å­ï¼Œæ‰€ä»¥å®ƒæ˜¯"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y - x")]),s._v("çš„å…¬å› å¼ã€‚æˆ‘ä»¬å†™äº†ä¸¤è¡Œä»£ç æ¥ç¡®ä¿éªŒè¯å™¨ä½¿ç”¨äº†è¿™ä¸ªå±æ€§ï¼Œç”¨é›†åˆäº¤é›†æ¥è¡¨è¾¾:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  var common := Factors(x) * Factors(y - x);\n  assert p in common;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("æœ€åï¼Œæˆ‘ä»¬éœ€è¦è¯æ˜"),n("code",[s._v("p")]),s._v("æ˜¯è¿™ä¸ªå…¬å› å¼çš„æœ€å¤§ã€‚æˆ‘ä»¬ä½¿ç”¨"),n("code",[s._v("forall")]),s._v("è¯­å¥æ¥å£°æ˜è¿™ä¸ªå±æ€§:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  forall q | q in common\n    ensures q <= p\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("ä¸ºäº†è¯æ˜è¿™ä¸ªæ€§è´¨ï¼Œæˆ‘ä»¬å¡«å……äº†"),n("code",[s._v("forall")]),s._v("è¯­å¥ä½“ã€‚å¯¹äºè¡¨ç¤ºâ€œå…¬å…±æ€§â€é›†åˆä¸­çš„ä»»æ„æ•°å­—"),n("code",[s._v("q")]),s._v("ï¼Œæˆ‘ä»¬åˆ†åˆ«å°†ç”Ÿæˆ"),n("code",[s._v("x")]),s._v("å’Œ"),n("code",[s._v("y - x")]),s._v("ä¹˜ç§¯çš„è¢«ä¹˜æ•°å‘½åä¸º:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  {\n    var a :| q * a == x;\n    var b :| q * b == y - x;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("ä½¿ç”¨ç®€å•çš„ç®—æœ¯æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªè¯æ˜è®¡ç®—æ¥ç¡®å®š"),n("code",[s._v("q")]),s._v("ä¹Ÿæ˜¯"),n("code",[s._v("y")]),s._v("çš„å› å­:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    assert IsFactor(q, y) by {\n      calc {\n        y;\n      ==\n        x + (y - x);\n      ==\n        q * a + q * b;\n      ==\n        q * (a + b);\n      }\n    }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("p",[s._v("æ‰€ä»¥ï¼Œå› ä¸º"),n("code",[s._v("q")]),s._v("æ—¢æ˜¯"),n("code",[s._v("x")]),s._v("åˆæ˜¯"),n("code",[s._v("y")]),s._v("çš„å› å­ï¼Œæ‰€ä»¥"),n("code",[s._v("Gcd(x, y)")]),s._v("çš„å®šä¹‰å‘Šè¯‰æˆ‘ä»¬"),n("code",[s._v("q <= Gcd(x, y)")]),s._v("é€šè¿‡ç»™å‡ºå¦ä¸€ä¸ªå…³äºé›†åˆäº¤é›†çš„æç¤º:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    assert q in Factors(x) * Factors(y);\n  }\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("éªŒè¯è€…å®ŒæˆéªŒè¯ã€‚")]),s._v(" "),n("h2",{attrs:{id:"æ›´å¤šçš„å¯¹ç§°"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ›´å¤šçš„å¯¹ç§°"}},[s._v("#")]),s._v(" æ›´å¤šçš„å¯¹ç§°")]),s._v(" "),n("p",[s._v("è™½ç„¶æˆ‘ä»¬ç°åœ¨å·²ç»æœ‰äº†GCDç®—æ³•çš„å®Œæ•´è¯æ˜ï¼Œä½†æ‚¨çš„ç¾æ„Ÿå¯èƒ½ä¼šå› ä¸ºæˆ‘ä»¬åœ¨ä¸¤ç§æƒ…å†µä¸‹æä¾›è¯æ˜çš„æ–¹å¼çš„ä¸å¯¹ç§°æ€§è€Œå—åˆ°å½±å“ã€‚æ—¢ç„¶"),n("code",[s._v("while")]),s._v(" - "),n("code",[s._v("case")]),s._v("å¾ªç¯ä¸ºæˆ‘ä»¬æä¾›äº†è¿™ä¸¤ç§æƒ…å†µçš„å¯¹ç§°è¡¨è¿°ï¼Œå¦‚æœæˆ‘ä»¬ä¹Ÿèƒ½ä½¿è¿™ä¸¤ç§æƒ…å†µçš„è¯æ˜æ›´åŠ ç›¸ä¼¼å°±å¥½äº†ã€‚")]),s._v(" "),n("p",[s._v("æœ‰å‡ ç§æ–¹æ³•å¯ä»¥æ”¹å–„è¿™ç§æƒ…å†µã€‚ä¸€ç§æ˜¯é‡æ„ç¬¬äºŒä¸ªcaseçš„è¯æ˜è®¡ç®—åˆ°å®ƒè‡ªå·±çš„å¼•ç†ä¸­ã€‚ç„¶åï¼Œæ¯ä¸ªâ€œæ¡ˆä¾‹â€éƒ½æœ‰ä¸€è¡Œè¯æ˜ã€‚")]),s._v(" "),n("p",[s._v("ä¸ºäº†å¥½ç©ï¼Œè®©æˆ‘æ¥æè¿°å¦ä¸€ä¸ªâ€œæŠ€å·§â€ï¼Œè®©è¿™ä¸¤ç§æƒ…å†µ(ä¸å®Œå…¨å¯¹ç§°ï¼Œä½†è‡³å°‘)æ›´ç›¸ä¼¼ã€‚è¯€çªåœ¨äºä½¿(å·²ç»ä¸å¯¹ç§°çš„)"),n("code",[s._v("GcdSubtract")]),s._v("å¼•ç†ä¹ŸæŠŠå‚æ•°è½¬æ¢ä¸º"),n("code",[s._v("Gcd")]),s._v("ã€‚æˆ‘ä»¬å°†å…¶æ”¹å†™ä¸º:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lemma GcdSubtract(x: pos, y: pos)\n  requires x < y\n  ensures Gcd(y, x) == Gcd(x, y - x)\n{\n  GcdSymmetric(x, y);\n  // ... the proof continues as before\n}\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("æ³¨æ„åç½®æ¡ä»¶çš„å·¦è¾¹ç°åœ¨æ˜¯"),n("code",[s._v("Gcd(y, x)")]),s._v("ï¼Œè€Œä¸æ˜¯"),n("code",[s._v("Gcd(x, y)")]),s._v("å°±åƒæˆ‘ä»¬åœ¨è¿™ä¸ªå¼•ç†çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä¸­ä¸€æ ·ã€‚è¿™ä¸ªè¯æ˜æ‰€éœ€è¦çš„å”¯ä¸€æ”¹å˜å°±æ˜¯è¯‰è¯¸äº"),n("code",[s._v("Gcd")]),s._v("çš„å¯¹ç§°æ€§ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•ç†å†…éƒ¨çš„ä¸€ä¸ªå¼•ç†æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªé‡æ–°è¡¨è¿°çš„â€œGcdSubtractâ€å¼•ç†çš„è¯æ˜ã€‚")]),s._v(" "),n("p",[s._v("é€šè¿‡è¿™ç§é‡æ–°è¡¨è¿°ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–EuclidGcdçš„ç¬¬äºŒä¸ªâ€œæƒ…å½¢â€ï¼Œä»¥ä½¿ç¬¬ä¸€ä¸ªâ€œæƒ…å½¢â€æ›´åŠ å¤æ‚ä¸ºä»£ä»·ã€‚æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬æŠŠä¸€ä¸ªå¼•ç†è°ƒç”¨ä»ç¬¬äºŒç§æƒ…å†µç§»åˆ°ç¬¬ä¸€ç§æƒ…å†µï¼Œæ‰€ä»¥ä¸æ˜¯æœ‰1å’Œ3ä¸ªå¼•ç†è°ƒç”¨åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæœ‰2å’Œ2ã€‚")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("    case x < y =>\n      GcdSubtract(x, y);\n      GcdSymmetric(y, x);\n      y := y - x;\n    case y < x =>\n      GcdSymmetric(x - y, y);\n      GcdSubtract(y, x);\n      x := x - y;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("å®ƒä¸æ˜¯å®Œå…¨å¯¹ç§°çš„ï¼Œä½†ä¹Ÿè®¸ä½ è¿˜æ˜¯å–œæ¬¢å®ƒã€‚æˆ–è€…ä½ å¯èƒ½ä¼šåœ¨å¦ä¸€ç§æƒ…å†µä¸‹è®°ä½è¿™ä¸ªæŠ€å·§ï¼Œå½“é‹å­éå¸¸åˆé€‚çš„æ—¶å€™ã€‚å¦‚æœæ²¡æœ‰åˆ«çš„ï¼Œæ‚¨å¯ä»¥åšæŒä½¿ç”¨æˆ‘ä»¬åœ¨ä¸Šé¢å¼€å‘çš„ç¬¬ä¸€ä¸ªå®Œæ•´çš„è¯æ˜ã€‚")]),s._v(" "),n("h2",{attrs:{id:"ä¸»æ–¹æ³•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä¸»æ–¹æ³•"}},[s._v("#")]),s._v(" ä¸»æ–¹æ³•")]),s._v(" "),n("p",[s._v("å¦‚æœè¯æ˜æœ¬èº«ä¸æ»¡è¶³ä½ ï¼Œä½ ä»ç„¶æƒ³çœ‹åˆ°ç®—æ³•çš„è¿è¡Œï¼Œä½ å¯ä»¥å†™ä¸€ä¸ª"),n("code",[s._v("Main")]),s._v("æ–¹æ³•ï¼Œç¼–è¯‘å¹¶è¿è¡Œç¨‹åºã€‚(åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨"),n("code",[s._v("dafny")]),s._v("å·¥å…·çš„"),n("code",[s._v("/compile:3")]),s._v("é€‰é¡¹æ˜¯ä¸€ç§ç®€å•çš„æ–¹æ³•ã€‚å®ƒå°†éªŒè¯ç„¶åè¿è¡Œç¨‹åºã€‚)")]),s._v(" "),n("p",[s._v("ä¸‹é¢æ˜¯ä¸€ä¸ª"),n("code",[s._v("Main")]),s._v("çš„ä¾‹å­:")]),s._v(" "),n("div",{staticClass:"language-dafny line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('method Main() {\n  Test(15, 9);\n  Test(14, 22);\n  Test(371, 1);\n  Test(1, 2);\n  Test(1, 1);\n  Test(13, 13);\n  Test(60, 60);\n}\n\nmethod Test(x: pos, y: pos) {\n  var gcd := EuclidGcd(x, y);\n  print x, " gcd ", y, "  =  ", gcd, "\\n";\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br")])]),n("h2",{attrs:{id:"ç»“è®º"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç»“è®º"}},[s._v("#")]),s._v(" ç»“è®º")]),s._v(" "),n("p",[s._v("è¿™ä¸ªæ¡ˆä¾‹ç ”ç©¶å±•ç¤ºäº†å¦‚ä½•å®šä¹‰ä¸€ä¸ªæ„Ÿå…´è¶£çš„é¢†åŸŸ(è¿™é‡Œæ˜¯æ•°å­—å› å­ï¼Œå¯¼è‡´äº†GCDçš„å®šä¹‰)ï¼Œé™ˆè¿°å’Œè¯æ˜å…³äºè¿™äº›å®šä¹‰çš„ä¸€äº›å¼•ç†ï¼Œç„¶ååœ¨ä¸€ä¸ªå°ç¨‹åºçš„è¯æ˜ä¸­ä½¿ç”¨è¿™äº›å¼•ç†ã€‚")]),s._v(" "),n("p",[s._v("è¯¥ç¨‹åºï¼ŒåŒ…æ‹¬æ‰€æœ‰å¼•ç†å’Œå…¶ä»–ä¸å®šä¹‰ç›¸å…³çš„è¯æ˜ä¹‰åŠ¡ï¼Œåªéœ€è¦å°‘äº3ç§’çš„DafnyéªŒè¯å™¨éªŒè¯ã€‚æ‚¨å¯ä»¥åœ¨Dafnyæµ‹è¯•å¥—ä»¶["),n("a",{attrs:{href:"http://leino.science/papers/krml279.html#leino:gcd",target:"_blank",rel:"noopener noreferrer"}},[s._v("3"),n("OutboundLink")],1),s._v("]ä¸­æ‰¾åˆ°æ•´ä¸ªç¨‹åºã€‚")]),s._v(" "),n("p",[s._v("æ¬§å‡ é‡Œå¾·çš„GCDç®—æ³•æ˜¯ä¸€ä¸ªå¸¸è§çš„æ•™ç§‘ä¹¦ä¾‹å­ã€‚å®ƒåœ¨ä¸åŒçš„éªŒè¯å™¨ä¸­ä»¥ä¸åŒçš„å½¢å¼è¢«è¯æ˜ã€‚ä¾‹å¦‚ï¼ŒTLA+æ•™ç¨‹ä»¥è¿™ä¸ªç¨‹åºä¸ºä¾‹["),n("a",{attrs:{href:"http://leino.science/papers/krml279.html#tla:tutorial",target:"_blank",rel:"noopener noreferrer"}},[s._v("0"),n("OutboundLink")],1),s._v("]ã€‚å®ƒå‡è®¾äº†æˆ‘ä»¬åœ¨è¿™é‡Œè¯æ˜çš„GCDçš„æ•°å­¦æ€§è´¨ã€‚Why3ç¨‹åºåº“åŒ…å«æ¬§å‡ é‡Œå¾·GCDç®—æ³•çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒåœ¨æ¯ä¸€æ­¥ä¸­ä½¿ç”¨æ¨¡è€Œä¸æ˜¯å‡æ³•ï¼Œè¿™æ ·å¯ä»¥å‡å°‘è¿­ä»£æ¬¡æ•°["),n("a",{attrs:{href:"http://leino.science/papers/krml279.html#why3:gcd",target:"_blank",rel:"noopener noreferrer"}},[s._v("2"),n("OutboundLink")],1),s._v("]ã€‚")]),s._v(" "),n("h2",{attrs:{id:"è‡´è°¢"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è‡´è°¢"}},[s._v("#")]),s._v(" è‡´è°¢")]),s._v(" "),n("p",[s._v("æˆ‘æ„Ÿè°¢Reto Krameræå‡ºè¿™ä¸ªé—®é¢˜ä½œä¸ºä¸€ä¸ªæœ‰ç”¨çš„æ¡ˆä¾‹ç ”ç©¶ã€‚")]),s._v(" "),n("h2",{attrs:{id:"å‚è€ƒæ–‡çŒ®"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒæ–‡çŒ®"}},[s._v("#")]),s._v(" å‚è€ƒæ–‡çŒ®")]),s._v(" "),n("p",[s._v("[0]TLA proof system. "),n("a",{attrs:{href:"https://tla.msr-inria.inria.fr/tlaps/content/Documentation/Tutorial/The_example.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://tla.msr-inria.inria.fr/tlaps/content/Documentation/Tutorial/The_example.html"),n("OutboundLink")],1),s._v(". "),n("a",{attrs:{href:"http://www.bing.com/search?q=+++proof+system+https+inria+inria+tlaps+content+Documentation+Tutorial+The_example+html++",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("[1]Edsger W. Dijkstra. "),n("em",[s._v("A Discipline of Programming")]),s._v(". Prentice Hall, Englewood Cliffs, NJ, 1976. "),n("a",{attrs:{href:"http://www.bing.com/search?q=+Discipline+Programming_++Edsger+Dijkstra+",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("[2]Jean-Christophe FilliÃ¢tre and Claude MarchÃ©. Greatest common divisor, using the euclidean algorithm. "),n("a",{attrs:{href:"http://toccata.lri.fr/gallery/gcd.en.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://toccata.lri.fr/gallery/gcd.en.html"),n("OutboundLink")],1),s._v(". "),n("a",{attrs:{href:"http://www.bing.com/search?q=Greatest+common+divisor+using+euclidean+algorithm++Jean+Christophe+Filli+Claude+March+",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”"),n("OutboundLink")],1)]),s._v(" "),n("p",[s._v("[3]K. Rustan M. Leino. gcd.dfy. "),n("a",{attrs:{href:"https://github.com/dafny-lang/dafny/blob/master/Test/dafny4/gcd.dfy",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/dafny-lang/dafny/blob/master/Test/dafny4/gcd.dfy"),n("OutboundLink")],1),s._v(", June 2021. "),n("a",{attrs:{href:"http://www.bing.com/search?q=+++Rustan+Leino+",target:"_blank",rel:"noopener noreferrer"}},[s._v("ğŸ”"),n("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=t.exports}}]);