<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>快速入门 | Dafny</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/dafnycommunity/img/bgico2.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3282046_1qux519eoim.css">
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.5.0/dist/twikoo.all.min.js"></script>
    <meta name="description" content="Dafny中文社区">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/dafnycommunity/assets/css/0.styles.ecdcfe28.css" as="style"><link rel="preload" href="/dafnycommunity/assets/js/app.99d07194.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/2.ab4658c0.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/20.cfeb5fdb.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/7.5451cfed.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/4.06497870.js" as="script"><link rel="prefetch" href="/dafnycommunity/assets/js/10.ac38cab7.js"><link rel="prefetch" href="/dafnycommunity/assets/js/11.38d5ee16.js"><link rel="prefetch" href="/dafnycommunity/assets/js/12.c434ce94.js"><link rel="prefetch" href="/dafnycommunity/assets/js/13.4e922264.js"><link rel="prefetch" href="/dafnycommunity/assets/js/14.db841cfa.js"><link rel="prefetch" href="/dafnycommunity/assets/js/15.b9c227cc.js"><link rel="prefetch" href="/dafnycommunity/assets/js/16.41dadc32.js"><link rel="prefetch" href="/dafnycommunity/assets/js/17.48b5f1eb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/18.ec254833.js"><link rel="prefetch" href="/dafnycommunity/assets/js/19.288ca382.js"><link rel="prefetch" href="/dafnycommunity/assets/js/21.ce8ddc5a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/22.1b8c89f0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/23.cb062ace.js"><link rel="prefetch" href="/dafnycommunity/assets/js/24.ff271672.js"><link rel="prefetch" href="/dafnycommunity/assets/js/25.5541f3af.js"><link rel="prefetch" href="/dafnycommunity/assets/js/26.a1bbc4cb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/27.522d7884.js"><link rel="prefetch" href="/dafnycommunity/assets/js/28.9335c003.js"><link rel="prefetch" href="/dafnycommunity/assets/js/29.3fc0b07a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/3.ab8a97d8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/30.57708681.js"><link rel="prefetch" href="/dafnycommunity/assets/js/31.8571b949.js"><link rel="prefetch" href="/dafnycommunity/assets/js/32.f91be5de.js"><link rel="prefetch" href="/dafnycommunity/assets/js/33.8089c59b.js"><link rel="prefetch" href="/dafnycommunity/assets/js/34.874d0299.js"><link rel="prefetch" href="/dafnycommunity/assets/js/35.aff8adfd.js"><link rel="prefetch" href="/dafnycommunity/assets/js/36.ac78b86e.js"><link rel="prefetch" href="/dafnycommunity/assets/js/37.3fae0334.js"><link rel="prefetch" href="/dafnycommunity/assets/js/38.3db4a8d6.js"><link rel="prefetch" href="/dafnycommunity/assets/js/39.e585cc70.js"><link rel="prefetch" href="/dafnycommunity/assets/js/40.afcb8fbe.js"><link rel="prefetch" href="/dafnycommunity/assets/js/41.01f314da.js"><link rel="prefetch" href="/dafnycommunity/assets/js/42.8e4fe21d.js"><link rel="prefetch" href="/dafnycommunity/assets/js/43.571fb232.js"><link rel="prefetch" href="/dafnycommunity/assets/js/44.14aebad2.js"><link rel="prefetch" href="/dafnycommunity/assets/js/45.32f18970.js"><link rel="prefetch" href="/dafnycommunity/assets/js/46.ce0d522f.js"><link rel="prefetch" href="/dafnycommunity/assets/js/47.0bd83351.js"><link rel="prefetch" href="/dafnycommunity/assets/js/48.648f667a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/49.83709ae0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/5.b8548e7f.js"><link rel="prefetch" href="/dafnycommunity/assets/js/50.060e0424.js"><link rel="prefetch" href="/dafnycommunity/assets/js/51.a1291856.js"><link rel="prefetch" href="/dafnycommunity/assets/js/52.45f73497.js"><link rel="prefetch" href="/dafnycommunity/assets/js/53.525782ca.js"><link rel="prefetch" href="/dafnycommunity/assets/js/54.45a04a86.js"><link rel="prefetch" href="/dafnycommunity/assets/js/55.65a94ba0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/56.2d038113.js"><link rel="prefetch" href="/dafnycommunity/assets/js/57.579db650.js"><link rel="prefetch" href="/dafnycommunity/assets/js/58.832d4c89.js"><link rel="prefetch" href="/dafnycommunity/assets/js/59.13befb53.js"><link rel="prefetch" href="/dafnycommunity/assets/js/6.349bf431.js"><link rel="prefetch" href="/dafnycommunity/assets/js/60.41227bb1.js"><link rel="prefetch" href="/dafnycommunity/assets/js/61.1d1b92f4.js"><link rel="prefetch" href="/dafnycommunity/assets/js/62.2cdbc236.js"><link rel="prefetch" href="/dafnycommunity/assets/js/63.83de9482.js"><link rel="prefetch" href="/dafnycommunity/assets/js/64.4ecd0d25.js"><link rel="prefetch" href="/dafnycommunity/assets/js/65.25118b81.js"><link rel="prefetch" href="/dafnycommunity/assets/js/66.cdab1b54.js"><link rel="prefetch" href="/dafnycommunity/assets/js/67.655e6e84.js"><link rel="prefetch" href="/dafnycommunity/assets/js/68.84effb44.js"><link rel="prefetch" href="/dafnycommunity/assets/js/69.8f07f81a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/70.d9a299e6.js"><link rel="prefetch" href="/dafnycommunity/assets/js/71.16ef2000.js"><link rel="prefetch" href="/dafnycommunity/assets/js/72.8252acc5.js"><link rel="prefetch" href="/dafnycommunity/assets/js/73.f53e39bc.js"><link rel="prefetch" href="/dafnycommunity/assets/js/74.5ef910c4.js"><link rel="prefetch" href="/dafnycommunity/assets/js/75.72174d00.js"><link rel="prefetch" href="/dafnycommunity/assets/js/76.bebf75c9.js"><link rel="prefetch" href="/dafnycommunity/assets/js/77.b85547c7.js"><link rel="prefetch" href="/dafnycommunity/assets/js/78.a0a1f574.js"><link rel="prefetch" href="/dafnycommunity/assets/js/79.a731d645.js"><link rel="prefetch" href="/dafnycommunity/assets/js/8.522ce892.js"><link rel="prefetch" href="/dafnycommunity/assets/js/80.6e5b64b0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/81.6e19e312.js"><link rel="prefetch" href="/dafnycommunity/assets/js/82.9244e788.js"><link rel="prefetch" href="/dafnycommunity/assets/js/83.f08c5aed.js"><link rel="prefetch" href="/dafnycommunity/assets/js/84.085ef3f8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/85.c41e6e0e.js"><link rel="prefetch" href="/dafnycommunity/assets/js/86.e3798708.js"><link rel="prefetch" href="/dafnycommunity/assets/js/87.fdac1c1c.js"><link rel="prefetch" href="/dafnycommunity/assets/js/88.665ac8c8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/89.78dc55eb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/9.4d4f4bdb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/90.4757b202.js"><link rel="prefetch" href="/dafnycommunity/assets/js/91.a0746cf2.js">
    <link rel="stylesheet" href="/dafnycommunity/assets/css/0.styles.ecdcfe28.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dafnycommunity/" class="home-link router-link-active"><img src="/dafnycommunity/img/logo-2.png" alt="Dafny" class="logo"> <span class="site-name can-hide">Dafny</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dafnycommunity/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置" class="dropdown-title"><a href="/dafnycommunity/peizhi/" class="link-title">配置</a> <span class="title" style="display:none;">配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门介绍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/56e571/" class="nav-link">什么是dafny?</a></li></ul></li><li class="dropdown-item"><h4>用起来吧！</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/4fa796/" class="nav-link">安装</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/085606/" aria-current="page" class="nav-link router-link-exact-active router-link-active">快速上手</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/39fb20/" class="nav-link">可能遇到的问题?</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/dafnycommunity/zhinan/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny快速入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/6e15a6/" class="nav-link">基础学习 Basic</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/eba166/" class="nav-link">方法 Method</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/83cdf9/" class="nav-link">关键字 Keyword</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/01d76e/" class="nav-link">函数 Function</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0fadc1/" class="nav-link">类 Class </a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a010ab/" class="nav-link">泛型 Generics</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/c4fda3/" class="nav-link">声明 Statement</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e8438e/" class="nav-link">表达式 Expression</a></li></ul></li><li class="dropdown-item"><h4>Dafny简单例子</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0978ce/" class="nav-link">寻找最大最小数和</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e3e481/" class="nav-link">斐波那契数列</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/02fdef/" class="nav-link">线性查询</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9b332b/" class="nav-link">引理-计算序列非负元素个数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/3d1110/" class="nav-link">集合</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2146d4/" class="nav-link">终止</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/dafnycommunity/jiaocheng/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny指导</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/877eb3/" class="nav-link">介绍</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/bf40c0/" class="nav-link">方法 Methods</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2e0c73/" class="nav-link">前置/后置条件 Pre/Postconditions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/36c1b4/" class="nav-link">断言 Assertions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a1d5a4/" class="nav-link">函数 Functions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/d89435/" class="nav-link">循环不变体 Loop Invariants</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/828a83/" class="nav-link">数组 Arrays</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/17e8d1/" class="nav-link">量词(函数) Quantifiers</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cc01af/" class="nav-link">谓词(函数) Predicates</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/13bbcd/" class="nav-link">框架 Framing</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1319be/" class="nav-link">二分搜索 Binary Search</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/30a8c2/" class="nav-link">总结</a></li></ul></li><li class="dropdown-item"><h4>Dafny进阶语法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/273cac/" class="nav-link">引理和归纳 Lemmas and Induction</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9d19b8/" class="nav-link">模块 Modules</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/b9300a/" class="nav-link">集合 sets</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cb3d21/" class="nav-link">序列 sequence</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fc6196/" class="nav-link">终止 Terminal</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a2a107/" class="nav-link">值类型 Values Types</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源" class="dropdown-title"><a href="/dafnycommunity/ziyuan/" class="link-title">资源</a> <span class="title" style="display:none;">资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>实践探索</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/718207/" class="nav-link">自动归纳</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1f579f/" class="nav-link">自动调用引理</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/f6638c/" class="nav-link">定义、证明、算法正确性</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1d2420/" class="nav-link">各种推导式</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/20c275/" class="nav-link">不同类型的证明</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/67167e/" class="nav-link">集合元素上的函数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/be298d/" class="nav-link">在集合上的迭代</a></li></ul></li><li class="dropdown-item"><h4>常用工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/8065fd/" class="nav-link">Type System</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0f17ab/" class="nav-link">Style Guide</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fe5721/" class="nav-link">Cheet Sheet</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/1b94a4/" class="nav-link">✨收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🏷️语言" class="dropdown-title"><!----> <span class="title" style="display:;">🏷️语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dafnycommunity/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/dafnycommunity/en-US/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/caf1f9/" class="nav-link">💬社区留言板</a></div> <a href="https://github.com/aaron-clou/dafnycommunity" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://s1.ax1x.com/2022/04/01/qh3tDe.png"> <div class="blogger-info"><h3>Dafny</h3> <span>新一代验证语言</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/dafnycommunity/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置" class="dropdown-title"><a href="/dafnycommunity/peizhi/" class="link-title">配置</a> <span class="title" style="display:none;">配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门介绍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/56e571/" class="nav-link">什么是dafny?</a></li></ul></li><li class="dropdown-item"><h4>用起来吧！</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/4fa796/" class="nav-link">安装</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/085606/" aria-current="page" class="nav-link router-link-exact-active router-link-active">快速上手</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/39fb20/" class="nav-link">可能遇到的问题?</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/dafnycommunity/zhinan/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny快速入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/6e15a6/" class="nav-link">基础学习 Basic</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/eba166/" class="nav-link">方法 Method</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/83cdf9/" class="nav-link">关键字 Keyword</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/01d76e/" class="nav-link">函数 Function</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0fadc1/" class="nav-link">类 Class </a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a010ab/" class="nav-link">泛型 Generics</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/c4fda3/" class="nav-link">声明 Statement</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e8438e/" class="nav-link">表达式 Expression</a></li></ul></li><li class="dropdown-item"><h4>Dafny简单例子</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0978ce/" class="nav-link">寻找最大最小数和</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e3e481/" class="nav-link">斐波那契数列</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/02fdef/" class="nav-link">线性查询</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9b332b/" class="nav-link">引理-计算序列非负元素个数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/3d1110/" class="nav-link">集合</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2146d4/" class="nav-link">终止</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/dafnycommunity/jiaocheng/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny指导</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/877eb3/" class="nav-link">介绍</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/bf40c0/" class="nav-link">方法 Methods</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2e0c73/" class="nav-link">前置/后置条件 Pre/Postconditions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/36c1b4/" class="nav-link">断言 Assertions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a1d5a4/" class="nav-link">函数 Functions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/d89435/" class="nav-link">循环不变体 Loop Invariants</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/828a83/" class="nav-link">数组 Arrays</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/17e8d1/" class="nav-link">量词(函数) Quantifiers</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cc01af/" class="nav-link">谓词(函数) Predicates</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/13bbcd/" class="nav-link">框架 Framing</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1319be/" class="nav-link">二分搜索 Binary Search</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/30a8c2/" class="nav-link">总结</a></li></ul></li><li class="dropdown-item"><h4>Dafny进阶语法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/273cac/" class="nav-link">引理和归纳 Lemmas and Induction</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9d19b8/" class="nav-link">模块 Modules</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/b9300a/" class="nav-link">集合 sets</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cb3d21/" class="nav-link">序列 sequence</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fc6196/" class="nav-link">终止 Terminal</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a2a107/" class="nav-link">值类型 Values Types</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源" class="dropdown-title"><a href="/dafnycommunity/ziyuan/" class="link-title">资源</a> <span class="title" style="display:none;">资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>实践探索</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/718207/" class="nav-link">自动归纳</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1f579f/" class="nav-link">自动调用引理</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/f6638c/" class="nav-link">定义、证明、算法正确性</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1d2420/" class="nav-link">各种推导式</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/20c275/" class="nav-link">不同类型的证明</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/67167e/" class="nav-link">集合元素上的函数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/be298d/" class="nav-link">在集合上的迭代</a></li></ul></li><li class="dropdown-item"><h4>常用工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/8065fd/" class="nav-link">Type System</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0f17ab/" class="nav-link">Style Guide</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fe5721/" class="nav-link">Cheet Sheet</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/1b94a4/" class="nav-link">✨收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🏷️语言" class="dropdown-title"><!----> <span class="title" style="display:;">🏷️语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dafnycommunity/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/dafnycommunity/en-US/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/caf1f9/" class="nav-link">💬社区留言板</a></div> <a href="https://github.com/aaron-clou/dafnycommunity" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>入门介绍</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>用起来吧</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dafnycommunity/pages/4fa796/" class="sidebar-link">安装Dafny</a></li><li><a href="/dafnycommunity/pages/085606/" aria-current="page" class="active sidebar-link">快速入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/085606/#基本定义" class="sidebar-link">基本定义</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/085606/#方法-methods" class="sidebar-link">方法 methods</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#框架frame" class="sidebar-link">框架Frame</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#变体函数-variant-function" class="sidebar-link">变体函数 variant function</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#ghost-关键字" class="sidebar-link">ghost 关键字</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#this-关键字" class="sidebar-link">this 关键字</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#构造函数-构造体-constructor" class="sidebar-link">构造函数/构造体 constructor</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#lemma-关键字" class="sidebar-link">lemma 关键字</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/085606/#函数-function" class="sidebar-link">函数 function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#类-class" class="sidebar-link">类 class</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#数据类型-datatypes" class="sidebar-link">数据类型 datatypes</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#泛型-generics" class="sidebar-link">泛型 Generics</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#声明-statement" class="sidebar-link">声明 Statement</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#函数-方法的返回值赋值给变量" class="sidebar-link">函数/方法的返回值赋值给变量</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#assert-声明" class="sidebar-link">assert 声明</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#print-打印语句" class="sidebar-link">print 打印语句</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#if-选择语句" class="sidebar-link">if 选择语句</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#while-循环语句" class="sidebar-link">while 循环语句</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#match语句-阿巴阿巴" class="sidebar-link">match语句(阿巴阿巴)</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#break语句" class="sidebar-link">break语句</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/085606/#表达式-expressions" class="sidebar-link">表达式 Expressions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/085606/#基本运算符" class="sidebar-link">基本运算符</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#整数运算" class="sidebar-link">整数运算</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#离-散-数-学" class="sidebar-link">离 散 数 学</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#集合运算" class="sidebar-link">集合运算</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#序列运算" class="sidebar-link">序列运算</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#if-then-else判断语句" class="sidebar-link">if-then-else判断语句</a></li><li class="sidebar-sub-header level4"><a href="/dafnycommunity/pages/085606/#match匹配表达式" class="sidebar-link">match匹配表达式</a></li></ul></li></ul></li><li><a href="/dafnycommunity/pages/39fb20/" class="sidebar-link">简单上手</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/dafnycommunity/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/dafnycommunity/categories/?category=%E9%85%8D%E7%BD%AE" title="分类" data-v-0c557b5e>配置</a></li><li data-v-0c557b5e><a href="/dafnycommunity/categories/?category=%E7%94%A8%E8%B5%B7%E6%9D%A5%E5%90%A7" title="分类" data-v-0c557b5e>用起来吧</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/Aaron-clou" target="_blank" title="作者" class="beLink" data-v-0c557b5e>lijiahai</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-03-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">快速入门<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="基础学习"><a href="#基础学习" class="header-anchor">#</a> 基础学习</h1> <div class="custom-block tip"><p class="custom-block-title">页面说明</p> <p>​此页面说明了 Dafny 中许多最常见的语言功能。 为了让您更快上手，这里的描述被简化了——这个页面不是语言参考。例如，此页面不会涉及模块、迭代器或细化，除非您在 Dafny 中编写更大或更高级的程序，否则您将不需要这些。</p></div> <p>Dafny程序长这样：xxxxx.dfy，Dafny文件是以dfy结尾的。</p> <p>程序主要包含以下几部分：</p> <ol><li><p>类型(<code>types</code>)</p></li> <li><p>方法(<code>methods</code>)</p></li> <li><p>函数(<code>functions</code>)</p></li> <li><p>用户自定义的类型包括类（<code>class</code>）和归纳数据类型(<code>inductive class</code>)</p></li> <li><p>类class本身也包含一组声明(<code>declarations</code>)、介绍字段（<code>introducing fields</code>）、方法(<code>methods</code>)和函数(<code>functions</code>)。</p> <p>如果有<code>main</code>方法那就从<code>main开始验证程序，没有也没关系，</code>main`不是必须的。</p></li></ol> <blockquote><p>注释：// 双斜杠 或者  /* xxxxx */</p></blockquote> <h2 id="基本定义"><a href="#基本定义" class="header-anchor">#</a> 基本定义</h2> <p>在类中，定义字段x为数据类型<code>(types)T</code>：</p> <p><strong>var x: T</strong></p> <p>注意事项：</p> <ul><li><p>数据类型必需手动申明的，不会被自动推断。</p></li> <li><p>通过在声明前加上关键 <strong>ghost</strong> 可以将该字段声明为幽灵（即用于规范<strong>而不是执行</strong>）字段。</p></li></ul> <p>Dafny 的9种数据类型包括：</p> <ul><li><code>bool</code>：布尔值</li> <li><code>int</code>：无界整数</li> <li><code>string</code>: 字符串</li> <li><code>class/inductive class</code>: 用户自定义的类和归纳类、</li> <li><code>set&lt;T&gt;</code>：不可变的无序集合</li> <li><code>seq&lt;T&gt;</code>：不可变的有序集合</li> <li><code>array&lt;T&gt;</code>、<code>array2&lt;T&gt;</code>、<code>array3&lt;T&gt;</code>: 多维数组类型</li> <li><code>object</code>：所有类型的超类</li> <li><code>nat</code>：范围是int一半，非负整数。</li></ul> <h2 id="方法-methods"><a href="#方法-methods" class="header-anchor">#</a> 方法 methods</h2> <p>方法的声明如下：</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>method M(a: A, b: B, c: C) r eturns (x: X, y: Y, z: Y)  //输入输出参数
requires Pre	//前置条件
modifies Frame  //框架
ensures Post	//后置条件
decreases TerminationMetric //变体函数
{
Body //函数体`
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>其中：</p> <ul><li>a, b, c : 输入参数</li> <li>x, y, z :  输出参数</li> <li>Pre: 表示方法 前提条件 的 布尔表达式</li> <li>Frame: 表示类对象的集合，可以被方法更新(Frame denotes a set of objects whose fields may be updated by the method)</li> <li>Post: 是方法 后置条件 的 布尔表达式</li> <li>TerminationMetric: 是方法的变体函数(TerminationMetric is the method’s variant function)</li> <li>Body: 是实现方法的语句。</li></ul> <h3 id="框架frame"><a href="#框架frame" class="header-anchor">#</a> 框架Frame</h3> <p><strong>框架Frame</strong> 是单个或多个对象组成的表达式的集合。(见下面例子)</p> <p>框架<code>Frame</code>是由类内对象和类外方法内对象两部分组成。(反正就是一堆类对象的集合）</p> <p>例如，如果 c 和 d 是类C的对象，那么以下每行意思是一样的。</p> <ul><li><p><code>modifies {c, d}</code></p></li> <li><p><code>modifies {c} + {d}</code></p></li> <li><p><code>modifies c, {d}</code></p></li> <li><p><code>modifies c, d</code></p></li></ul> <p>如果方法内啥都没写，那么前置和后置条件默认为真，框架默认为空集。</p> <h3 id="变体函数-variant-function"><a href="#变体函数-variant-function" class="header-anchor">#</a> <strong>变体函数 variant function</strong></h3> <p>变体函数是一个表达式组成的列表，表示由给定表达式组成的字典元组，后跟隐含的“top”元素。</p> <p>如果省略没写的话，Dafny 将猜测该方法的变体函数，通常是以该方法的参数列表开头的字典元组。</p> <p>Dafny IDE 将在工具提示中显示猜测。</p> <h3 id="ghost-关键字"><a href="#ghost-关键字" class="header-anchor">#</a> <strong>ghost 关键字</strong></h3> <p>通过在声明之前加上关键字 <code>ghost</code> 可以将方法声明为 <code>ghost</code>方法（仅规范而不用于执行）。</p> <h3 id="this-关键字"><a href="#this-关键字" class="header-anchor">#</a> <strong>this 关键字</strong></h3> <p>默认情况下，类中的方法都具有隐式接收器参数 <code>this</code>。可以通过在方法声明之前使用关键字 static 来删除此参数。</p> <p>类 C 中的静态方法 M 可以由 <code>C.M(...)</code> 调用。</p> <h3 id="构造函数-构造体-constructor"><a href="#构造函数-构造体-constructor" class="header-anchor">#</a> <strong>构造函数/构造体 constructor</strong></h3> <p>在类中，一个方法可以通过将<code>method</code>关键字替换为<code>constructor</code>，申明一个构造方法。</p> <p>构造函数(构造方法)只能在分配对象时调用（参见示例）</p> <p>对于包含一个或多个构造函数的类，对象创建必须与对构造函数的调用一起完成。</p> <p>通常，一个方法当然得有一个名字，但是一个类可以有一个没有名字的构造函数，也就是<strong>匿名构造函数</strong> <code>constructor (n:int )</code></p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>constructor (n: int) //constructor 匿名构造器` 
modifies this //框架内对象的构造体 this就是this.frame？`

{
  Body
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="lemma-关键字"><a href="#lemma-关键字" class="header-anchor">#</a> <strong>lemma 关键字</strong></h3> <p>有时，方法(<code>method</code>)关键字会被引理(<code>lemmas</code>)取代。</p> <p>通过使用<code>lemma</code>关键字而不是<code>method</code>来声明方法，会让程序更清楚明白</p> <p>示例：输入三个整数，返回排序后的三个整数</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>method Sort(a: int, b: int, c: int) returns (x: int, y: int, z: int)
ensures x &lt;= y &lt;= z &amp;&amp; multiset{a, b, c} == multiset{x, y, z} //后置条件`
{
x, y, z := a, b, c;
if z &lt; y {
y, z := z, y;
}
if y &lt; x {
    x, y := y, x;
  }
if z &lt; y {
    y, z := z, y;
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="函数-function"><a href="#函数-function" class="header-anchor">#</a> <strong>函数 function</strong></h2> <p>函数具有以下形式：</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>function F(a: A, b: B, c: C): T
requires Pre  //前置条件pre
reads Frame	//框架frame
ensures Post //后置条件post
decreases TerminationMetric //变体函数
{
  Body	//函数体
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><code>a</code>, <code>b</code>, <code>c</code> : 输入的形参，</li> <li><code>T</code> : 返回结果的类型，</li> <li><code>Pre</code>: 表示函数前提条件的布尔表达式，</li> <li><code>Frame</code>: 函数体body需要的对象列表</li> <li><code>Post</code>: 函数的后置条件布尔表达式</li> <li><code>TerminationMetric</code>: 变体函数</li> <li><code>Body</code>: 定义函数的表达式。</li></ul> <p>前置条件允许函数是部分的(只用前置就行不用写后置），即前置条件表示函数何时定义，并且 Dafny 会验证函数的每次使用都满足前置条件。</p> <p>通常不需要后置条件，因为函数在函数体内已经给出了完整的定义。</p> <p>例如：</p> <p>（写个后置加个保险也行，一般后置就是声明该函数的基本属性，比如Factorial这个函数所有数字都≥1）</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>function Factorial(n: int): int
requires 0 &lt;= n //前置条件pre
ensures 1 &lt;= Factorial(n) //后置条件post
{
 if n == 0 then 1 else Factorial(n-1) * n //函数体body
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>要在后置条件中引用函数的结果，请使用<strong>函数本身的名称</strong>，如示例中所示。</p> <p>默认情况下，函数是<code>ghost</code>，不能从可执行（非<code>ghost</code>）代码中调用。</p> <p>为了使它从<code>ghost</code>变成非<code>ghost</code>，用关键字<strong>function method</strong>替换 function.</p> <p>一个返回布尔值的函数可以用关键字声明，然后省略冒号和返回类型。</p> <p>如果函数或方法被声明为类class成员，则它具有隐式接收器参数 this。可以通过在声明之前加上关键字<code>static</code>来删除此参数。</p> <p>类 C 中的静态函数 F 可以被 <code>C.F(...)</code> 调用。</p> <h3 id="类-class"><a href="#类-class" class="header-anchor">#</a> 类 class</h3> <p>一个类定义如下：</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>class C {
 // member declarations go here
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>其中类的成员（字段、方法和函数）在花括号内定义（如上所述）。</p> <h3 id="数据类型-datatypes"><a href="#数据类型-datatypes" class="header-anchor">#</a> <strong>数据类型 datatypes</strong></h3> <p>归纳数据类型（inductive datatype）是一种类型，其值是用<strong>一组固定的构造函数</strong>创建的。</p> <p>数据类型 为Tree带有构造函数 Leaf 和 Node 的函数声明如下：</p> <p><code>datatype Tree = Leaf | Node(Tree, int, Tree)//Leaf为无参构造函数 Node为有参</code></p> <p>构造函数由竖线分隔。 无参数构造函数不需要使用括号，如 Leaf 所示。</p> <p>对于每个构造函数 Ct，数据类型隐式声明了一个布尔成员 Ct?，对于已经使用 Ct 构造函数赋的值的成员，它返回 true。 例如，在代码片段之后：</p> <p><code>var t0 := Leaf;</code> <code>var t1 := Node(t0, 5, t0);</code></p> <p>表达式 <code>t1.Node</code>结果为 true, <code>t0.Node</code>结果为false。</p> <p>如果两个数据类型值是使用相同的构造函数和该构造函数的相同参数创建的，则它们是相等的。因此，对于像 <code>Leaf</code>、<code>t.Leaf</code> 这样的无参数构造函数，Dafny会给出与 <code>t == Leaf</code> 相同的结果。(没看懂，不管了)</p> <p>构造函数可以选择为其任何参数声明析构函数，这是通过为参数引入名称来完成的。 例如，如果 Tree 被声明为：</p> <p><code>datatype Tree = Leaf | Node(left: Tree, data: int, right: Tree)</code></p> <p>那么<code>t1.data == 5</code>和<code>t1.left == t0</code>在上面的代码片段之后保持不变。(还是没懂)</p> <h3 id="泛型-generics"><a href="#泛型-generics" class="header-anchor">#</a> <strong>泛型 Generics</strong></h3> <p>Dafny同其他语言一样都有泛型，任何类、方法、函数都可以有类型参数，在&lt;&gt;中申明该数据类型T</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>class MyMultiset&lt;T&gt; {
 /*...*/
}		//类泛型
datatype Tree&lt;T&gt; = Leaf | Node(Tree&lt;T&gt;, T, Tree&lt;T&gt;) //自定义数据泛型
method Find&lt;T&gt;(key: T, collection: Tree&lt;T&gt;) { //方法泛型`
 /*...*/
}

function IfThenElse&lt;T&gt;(b: bool, x: T, y: T): T {	//函数泛型
 /*...*/
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="声明-statement"><a href="#声明-statement" class="header-anchor">#</a> <strong>声明 Statement</strong></h3> <p>以下是 Dafny 中最常见语句:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>var LocalVariables := ExprList;
Lvalues := ExprList;
assert BoolExpr;
print ExprList;

if BoolExpr0 {
  Stmts0
} else if BoolExpr1 {
  Stmts1
} else {
  Stmts2
}

  while BoolExpr
  invariant Inv
  modifies Frame
  decreases Rank
{
  Stmts
}
 match Expr {
  case Empty =&gt; Stmts0
  case Node(l, d, r) =&gt; Stmts1
}
 break;
 return;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="函数-方法的返回值赋值给变量"><a href="#函数-方法的返回值赋值给变量" class="header-anchor">#</a> <strong>函数/方法的返回值赋值给变量</strong></h4> <p>(就是将函数/方法返回的值或对象 赋给 一个<strong>局部变量</strong>而已）
<code>var LocalVariables := ExprList;</code>
var 语句引入了局部变量。
<code>Lvalues := ExprList;</code></p> <p>赋值语句将 <code>ExprList</code>变量赋给<code>Lvalues</code>。 这些分配是并行执行的（更重要的是，所有必要的读取都发生在写入之前），因此左侧必须表示不同的 L 值。 每个右侧都可以是以下形式之一的表达式或对象创建：</p> <ol><li><p><code>new T</code></p></li> <li><p><code>new T.Init(ExprList)</code></p></li> <li><p><code>new T(ExprList)</code></p></li> <li><p><code>new T[SizeExpr]</code></p></li> <li><p><code>new T[SizeExpr0, SizeExpr1]</code></p></li></ol> <p>第一种形式分配一个类型为 T 的对象。</p> <p>第二种形式另外在新分配的对象上调用初始化方法或构造函数。</p> <p>第三种形式是当调用匿名构造函数时的语法。</p> <p>其他形式分别了T是一维和二维数组对象的匿名构造方法</p> <h4 id="assert-声明"><a href="#assert-声明" class="header-anchor">#</a> <strong>assert 声明</strong></h4> <p><code>assert</code> 语句判断后面的表达式结果是否为真（由验证器验证）。</p> <h4 id="print-打印语句"><a href="#print-打印语句" class="header-anchor">#</a> <strong>print 打印语句</strong></h4> <p>打印语句将给定打印表达式的值输出到标准输出。字符串中的字符可以转义；例如，对 <code>print</code> 语句感兴趣的是 <code>\n</code> 表示字符串中的换行符。</p> <h4 id="if-选择语句"><a href="#if-选择语句" class="header-anchor">#</a> <strong>if 选择语句</strong></h4> <p>if 语句是通常的语句。该示例显示了使用 else if 将备选方案串在一起。像往常一样，else 分支是可选的。</p> <h4 id="while-循环语句"><a href="#while-循环语句" class="header-anchor">#</a> <strong>while 循环语句</strong></h4> <ul><li><code>while</code> 语句是通常的循环，其中</li> <li><code>invariant</code> 声明给出了一个循环变量</li> <li><code>modifies</code>语句限制了循环的框架</li> <li><code>reduction</code>语句从循环中引入了一个变体函数。</li></ul> <p>默认情况下，循环不变式为真，修改框与封闭上下文中的相同（通常是封闭方法的修改子句），并从循环保护中猜测变体函数。(真没看懂）</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>while BoolExpr //布尔表达式-循环条件`
  invariant Inv
  modifies Frame
  decreases Rank

{
  Statements
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="match语句-阿巴阿巴"><a href="#match语句-阿巴阿巴" class="header-anchor">#</a> <strong>match语句(阿巴阿巴)</strong></h4> <p>match 语句计算源 Expr（一个类型为归纳数据类型的表达式），然后执行与用于创建源数据类型值的构造函数相对应的 case，将构造函数参数绑定到给定的名称。如果不需要它们来标记 match 语句的结尾，则可以省略包围 case 的花括号。</p> <h4 id="break语句"><a href="#break语句" class="header-anchor">#</a> <strong>break语句</strong></h4> <p>break 语句可用于退出循环，而 return 语句可用于退出方法。</p> <h2 id="表达式-expressions"><a href="#表达式-expressions" class="header-anchor">#</a> <strong>表达式 Expressions</strong></h2> <p>Dafny 中的表达式与类 Java 语言中的表达式非常相似。以下是一些值得注意的差异。</p> <h3 id="基本运算符"><a href="#基本运算符" class="header-anchor">#</a> <strong>基本运算符</strong></h3> <p>除了短路布尔运算符 <code>&amp;&amp;</code> (and) 和 <code>||</code> （或），Dafny 有一个短路蕴涵运算符 <code>==&gt;</code> 和一个 <code>if-and-only-if</code> 运算符 <code>&lt;==&gt;</code>。</p> <p>正如它们的宽度所暗示的那样，<code>&lt;==&gt;</code> 具有比 <code>==&gt;</code>低的绑定力，而后者又比 <code>&amp;&amp;</code> 和 <code>||</code>具有更低的绑定力。</p> <p>Dafny 比较表达式可以是<strong>链式</strong>的，这意味着<strong>相同方向</strong>的比较可以串在一起。例如，<code>0 &lt;= i &lt; j &lt;= a.Length == N</code></p> <p>含义相同： <code>0 &lt;= i &amp;&amp; i &lt; j &amp;&amp; j &lt;= a.Length &amp;&amp; a.Length == N</code></p> <p>请注意，布尔相等可以使用 <code>==</code> 和 <code>&lt;==&gt;</code> 来表示。这些之间有两个区别。首先，<code>==</code> 比 <code>&lt;==&gt;</code> 具有更高的约束力。其次，<code>==</code> 是链接，而 <code>&lt;==&gt;</code> 是关联的。也就是说，<code>a == b == c</code> 与 <code>a == b &amp;&amp; b == c</code> 相同，而 <code>a &lt;==&gt; b &lt;==&gt; c</code> 与 <code>a &lt;==&gt; (b &lt;== &gt; c)</code>，这也与 <code>(a &lt;==&gt; b) &lt;==&gt; c</code> 相同。</p> <h4 id="整数运算"><a href="#整数运算" class="header-anchor">#</a> <strong>整数运算</strong></h4> <p>对整数的运算是常用的运算，除了 <code>/</code>（整数除法）和 <code>%</code>（整数模）遵循欧几里德定义，这意味着 <code>%</code> 总是导致非负数。 （因此，当 <code>/</code> 或 <code>%</code> 的第一个参数为负数时，结果与您在 C、Java 或 C# 中得到的结果不同，请参阅 http://en.wikipedia.org/wiki/Modulo_operation。）</p> <h4 id="离-散-数-学"><a href="#离-散-数-学" class="header-anchor">#</a> 离 散 数 学</h4> <p>Dafny 表达式包括全称量词和存在量词，其形式为：<code>forall x :: Expr</code> 和<code>exists x :: Expr</code>，其中<code>x</code>是绑定变量（可以使用显式类型声明，如<code>x: T</code> 中所示），而<code>Expr</code> 是一个布尔表达式。</p> <h4 id="集合运算"><a href="#集合运算" class="header-anchor">#</a> 集合运算</h4> <p>集合上的操作包括<code>+</code>（并）、<code>*</code>（交）和<code>-</code>（集合差）、集合比较运算符<code>&lt;</code>（真子集）、<code>&lt;=</code>（子集）、它们的对偶<code>&gt;</code> 和<code>&gt;=</code>，以及<code>!!</code> （脱节）。 S 中的表达式 <code>x</code> 表示 <code>x</code> 是集合 <code>S</code> 的成员，而 <code>x !in S</code> 是一个方便的写法 <code>!(x in S)</code>。</p> <p>要从某些元素创建一个集合，请将它们括在花括号中。例如，{x,y} 是由 x 和 y 组成的集合（如果 x == y，则为单例集），{x} 是包含 x 的单例集，{} 是空集。</p> <h4 id="序列运算"><a href="#序列运算" class="header-anchor">#</a> <strong>序列运算</strong></h4> <p>对序列的操作包括 +（连接）和比较运算符 <code>&lt;</code>（适当的前缀）和 <code>&lt;=</code>（前缀）。成员资格可以像集合一样检查：<code>x in S</code> 和 <code>x !in S</code>。序列 S 的长度表示为 |S|，并且此类序列的元素具有从 0 到小于 |S| 的索引。表达式 S[j] 表示序列 S 的索引 j 处的元素。表达式 <code>S[m..n]</code>，其中 <code>0 &lt;= m &lt;= n &lt;= |S|</code>，返回一个序列，其元素是S 从索引 m 开始（即，从 S[m]、S[m+1]、……直到但不包括 S[n]）。表达式 S[m..]; （通常称为“drop m”)与 <code>S[m..|S|]</code> 相同；也就是说，它返回除 S 的前 m 个元素之外的所有元素的序列。表达式 <code>S[..n]</code> ; （通常称为“take n”）与 S[0..n] 相同，即它返回由 S 的前 n 个元素组成的序列。</p> <p>如果 j 是序列 S 的有效索引，则表达式 <code>S[j := x]</code>;是类似于 S 的序列，只是它在索引 j 处有 x。</p> <p>最后，要从一些元素组成一个序列，请将它们括在方括号中。例如，[x,y] 是由两个元素 x 和 y 组成的序列，使得 <code>[x,y][0] == x 和 [x,y][1] == y</code>，[x] 是唯一元素是 x 的单例序列，[] 是空序列。</p> <h4 id="if-then-else判断语句"><a href="#if-then-else判断语句" class="header-anchor">#</a> <strong>if-then-else判断语句</strong></h4> <p><code>if-then-else</code> 表达式的形式为：<code>if BoolExpr then Expr0 else Expr1</code></p> <p>其中 <code>Expr0</code> 和 <code>Expr1</code> 是相同类型的任何表达式。与 <code>if</code> 语句不同，<code>if-then-else</code> 表达式使用 <code>then</code> 关键字，并且必须包含显式的 else 分支。</p> <h4 id="match匹配表达式"><a href="#match匹配表达式" class="header-anchor">#</a> <strong>match匹配表达式</strong></h4> <p>match 表达式类似于 match 语句并具有以下形式：</p> <p><code>match Expr { case Empty =&gt; Expr0 case Node(l, d, r) =&gt; Expr1 }</code></p> <p>大括号可用于标记匹配表达式的结束，但最常见的是不需要这样做，然后可以省略大括号。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/aaron-clou/dafnycommunity/edit/master/docs/10.配置/10.用起来吧/05.快速入门.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/26, 14:38:56</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/dafnycommunity/pages/4fa796/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">安装Dafny</div></a> <a href="/dafnycommunity/pages/39fb20/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">简单上手</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/dafnycommunity/pages/4fa796/" class="prev">安装Dafny</a></span> <span class="next"><a href="/dafnycommunity/pages/39fb20/">简单上手</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/dafnycommunity/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/dafnycommunity/pages/0978ce/"><div>
            寻找最大和最小数
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/dafnycommunity/pages/e3e481/"><div>
            斐波那契数列
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/dafnycommunity/pages/02fdef/"><div>
            线性查询
            <!----></div></a> <span class="date">04-06</span></dt></dl> <dl><dd></dd> <dt><a href="/dafnycommunity/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Aaron-clou/dafnycommunity" title="Github" target="_blank" class="iconfont icon-github-fill"></a><a href="https://gitee.com/leo214/dafnycommunity" title="Gitee" target="_blank" class="iconfont icon-gitee2"></a><a href="1374921025@qq.com" title="Email" target="_blank" class="iconfont icon-email-fill"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Li Jiahai | Dafny Community | 2022</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div id="tcomment"></div><div></div></div></div>
    <script src="/dafnycommunity/assets/js/app.99d07194.js" defer></script><script src="/dafnycommunity/assets/js/2.ab4658c0.js" defer></script><script src="/dafnycommunity/assets/js/20.cfeb5fdb.js" defer></script><script src="/dafnycommunity/assets/js/7.5451cfed.js" defer></script><script src="/dafnycommunity/assets/js/4.06497870.js" defer></script>
  </body>
</html>
