<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>old and unchanged | Dafny</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/dafnycommunity/img/bgico2.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3282046_1qux519eoim.css">
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.5.0/dist/twikoo.all.min.js"></script>
    <meta name="description" content="Dafny中文社区">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/dafnycommunity/assets/css/0.styles.ecdcfe28.css" as="style"><link rel="preload" href="/dafnycommunity/assets/js/app.99d07194.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/2.ab4658c0.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/81.6e19e312.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/7.5451cfed.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/4.06497870.js" as="script"><link rel="prefetch" href="/dafnycommunity/assets/js/10.ac38cab7.js"><link rel="prefetch" href="/dafnycommunity/assets/js/11.38d5ee16.js"><link rel="prefetch" href="/dafnycommunity/assets/js/12.c434ce94.js"><link rel="prefetch" href="/dafnycommunity/assets/js/13.4e922264.js"><link rel="prefetch" href="/dafnycommunity/assets/js/14.db841cfa.js"><link rel="prefetch" href="/dafnycommunity/assets/js/15.b9c227cc.js"><link rel="prefetch" href="/dafnycommunity/assets/js/16.41dadc32.js"><link rel="prefetch" href="/dafnycommunity/assets/js/17.48b5f1eb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/18.ec254833.js"><link rel="prefetch" href="/dafnycommunity/assets/js/19.288ca382.js"><link rel="prefetch" href="/dafnycommunity/assets/js/20.cfeb5fdb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/21.ce8ddc5a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/22.1b8c89f0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/23.cb062ace.js"><link rel="prefetch" href="/dafnycommunity/assets/js/24.ff271672.js"><link rel="prefetch" href="/dafnycommunity/assets/js/25.5541f3af.js"><link rel="prefetch" href="/dafnycommunity/assets/js/26.a1bbc4cb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/27.522d7884.js"><link rel="prefetch" href="/dafnycommunity/assets/js/28.9335c003.js"><link rel="prefetch" href="/dafnycommunity/assets/js/29.3fc0b07a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/3.ab8a97d8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/30.57708681.js"><link rel="prefetch" href="/dafnycommunity/assets/js/31.8571b949.js"><link rel="prefetch" href="/dafnycommunity/assets/js/32.f91be5de.js"><link rel="prefetch" href="/dafnycommunity/assets/js/33.8089c59b.js"><link rel="prefetch" href="/dafnycommunity/assets/js/34.874d0299.js"><link rel="prefetch" href="/dafnycommunity/assets/js/35.aff8adfd.js"><link rel="prefetch" href="/dafnycommunity/assets/js/36.ac78b86e.js"><link rel="prefetch" href="/dafnycommunity/assets/js/37.3fae0334.js"><link rel="prefetch" href="/dafnycommunity/assets/js/38.3db4a8d6.js"><link rel="prefetch" href="/dafnycommunity/assets/js/39.e585cc70.js"><link rel="prefetch" href="/dafnycommunity/assets/js/40.afcb8fbe.js"><link rel="prefetch" href="/dafnycommunity/assets/js/41.01f314da.js"><link rel="prefetch" href="/dafnycommunity/assets/js/42.8e4fe21d.js"><link rel="prefetch" href="/dafnycommunity/assets/js/43.571fb232.js"><link rel="prefetch" href="/dafnycommunity/assets/js/44.14aebad2.js"><link rel="prefetch" href="/dafnycommunity/assets/js/45.32f18970.js"><link rel="prefetch" href="/dafnycommunity/assets/js/46.ce0d522f.js"><link rel="prefetch" href="/dafnycommunity/assets/js/47.0bd83351.js"><link rel="prefetch" href="/dafnycommunity/assets/js/48.648f667a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/49.83709ae0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/5.b8548e7f.js"><link rel="prefetch" href="/dafnycommunity/assets/js/50.060e0424.js"><link rel="prefetch" href="/dafnycommunity/assets/js/51.a1291856.js"><link rel="prefetch" href="/dafnycommunity/assets/js/52.45f73497.js"><link rel="prefetch" href="/dafnycommunity/assets/js/53.525782ca.js"><link rel="prefetch" href="/dafnycommunity/assets/js/54.45a04a86.js"><link rel="prefetch" href="/dafnycommunity/assets/js/55.65a94ba0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/56.2d038113.js"><link rel="prefetch" href="/dafnycommunity/assets/js/57.579db650.js"><link rel="prefetch" href="/dafnycommunity/assets/js/58.832d4c89.js"><link rel="prefetch" href="/dafnycommunity/assets/js/59.13befb53.js"><link rel="prefetch" href="/dafnycommunity/assets/js/6.349bf431.js"><link rel="prefetch" href="/dafnycommunity/assets/js/60.41227bb1.js"><link rel="prefetch" href="/dafnycommunity/assets/js/61.1d1b92f4.js"><link rel="prefetch" href="/dafnycommunity/assets/js/62.2cdbc236.js"><link rel="prefetch" href="/dafnycommunity/assets/js/63.83de9482.js"><link rel="prefetch" href="/dafnycommunity/assets/js/64.4ecd0d25.js"><link rel="prefetch" href="/dafnycommunity/assets/js/65.25118b81.js"><link rel="prefetch" href="/dafnycommunity/assets/js/66.cdab1b54.js"><link rel="prefetch" href="/dafnycommunity/assets/js/67.655e6e84.js"><link rel="prefetch" href="/dafnycommunity/assets/js/68.84effb44.js"><link rel="prefetch" href="/dafnycommunity/assets/js/69.8f07f81a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/70.d9a299e6.js"><link rel="prefetch" href="/dafnycommunity/assets/js/71.16ef2000.js"><link rel="prefetch" href="/dafnycommunity/assets/js/72.8252acc5.js"><link rel="prefetch" href="/dafnycommunity/assets/js/73.f53e39bc.js"><link rel="prefetch" href="/dafnycommunity/assets/js/74.5ef910c4.js"><link rel="prefetch" href="/dafnycommunity/assets/js/75.72174d00.js"><link rel="prefetch" href="/dafnycommunity/assets/js/76.bebf75c9.js"><link rel="prefetch" href="/dafnycommunity/assets/js/77.b85547c7.js"><link rel="prefetch" href="/dafnycommunity/assets/js/78.a0a1f574.js"><link rel="prefetch" href="/dafnycommunity/assets/js/79.a731d645.js"><link rel="prefetch" href="/dafnycommunity/assets/js/8.522ce892.js"><link rel="prefetch" href="/dafnycommunity/assets/js/80.6e5b64b0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/82.9244e788.js"><link rel="prefetch" href="/dafnycommunity/assets/js/83.f08c5aed.js"><link rel="prefetch" href="/dafnycommunity/assets/js/84.085ef3f8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/85.c41e6e0e.js"><link rel="prefetch" href="/dafnycommunity/assets/js/86.e3798708.js"><link rel="prefetch" href="/dafnycommunity/assets/js/87.fdac1c1c.js"><link rel="prefetch" href="/dafnycommunity/assets/js/88.665ac8c8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/89.78dc55eb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/9.4d4f4bdb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/90.4757b202.js"><link rel="prefetch" href="/dafnycommunity/assets/js/91.a0746cf2.js">
    <link rel="stylesheet" href="/dafnycommunity/assets/css/0.styles.ecdcfe28.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dafnycommunity/" class="home-link router-link-active"><img src="/dafnycommunity/img/logo-2.png" alt="Dafny" class="logo"> <span class="site-name can-hide">Dafny</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dafnycommunity/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置" class="dropdown-title"><a href="/dafnycommunity/peizhi/" class="link-title">配置</a> <span class="title" style="display:none;">配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门介绍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/56e571/" class="nav-link">什么是dafny?</a></li></ul></li><li class="dropdown-item"><h4>用起来吧！</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/4fa796/" class="nav-link">安装</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/085606/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/39fb20/" class="nav-link">可能遇到的问题?</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/dafnycommunity/zhinan/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny快速入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/6e15a6/" class="nav-link">基础学习 Basic</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/eba166/" class="nav-link">方法 Method</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/83cdf9/" class="nav-link">关键字 Keyword</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/01d76e/" class="nav-link">函数 Function</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0fadc1/" class="nav-link">类 Class </a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a010ab/" class="nav-link">泛型 Generics</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/c4fda3/" class="nav-link">声明 Statement</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e8438e/" class="nav-link">表达式 Expression</a></li></ul></li><li class="dropdown-item"><h4>Dafny简单例子</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0978ce/" class="nav-link">寻找最大最小数和</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e3e481/" class="nav-link">斐波那契数列</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/02fdef/" class="nav-link">线性查询</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9b332b/" class="nav-link">引理-计算序列非负元素个数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/3d1110/" class="nav-link">集合</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2146d4/" class="nav-link">终止</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/dafnycommunity/jiaocheng/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny指导</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/877eb3/" class="nav-link">介绍</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/bf40c0/" class="nav-link">方法 Methods</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2e0c73/" class="nav-link">前置/后置条件 Pre/Postconditions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/36c1b4/" class="nav-link">断言 Assertions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a1d5a4/" class="nav-link">函数 Functions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/d89435/" class="nav-link">循环不变体 Loop Invariants</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/828a83/" class="nav-link">数组 Arrays</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/17e8d1/" class="nav-link">量词(函数) Quantifiers</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cc01af/" class="nav-link">谓词(函数) Predicates</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/13bbcd/" class="nav-link">框架 Framing</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1319be/" class="nav-link">二分搜索 Binary Search</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/30a8c2/" class="nav-link">总结</a></li></ul></li><li class="dropdown-item"><h4>Dafny进阶语法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/273cac/" class="nav-link">引理和归纳 Lemmas and Induction</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9d19b8/" class="nav-link">模块 Modules</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/b9300a/" class="nav-link">集合 sets</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cb3d21/" class="nav-link">序列 sequence</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fc6196/" class="nav-link">终止 Terminal</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a2a107/" class="nav-link">值类型 Values Types</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源" class="dropdown-title"><a href="/dafnycommunity/ziyuan/" class="link-title">资源</a> <span class="title" style="display:none;">资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>实践探索</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/718207/" class="nav-link">自动归纳</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1f579f/" class="nav-link">自动调用引理</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/f6638c/" class="nav-link">定义、证明、算法正确性</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1d2420/" class="nav-link">各种推导式</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/20c275/" class="nav-link">不同类型的证明</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/67167e/" class="nav-link">集合元素上的函数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/be298d/" class="nav-link">在集合上的迭代</a></li></ul></li><li class="dropdown-item"><h4>常用工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/8065fd/" class="nav-link">Type System</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0f17ab/" class="nav-link">Style Guide</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fe5721/" class="nav-link">Cheet Sheet</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/1b94a4/" class="nav-link">✨收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🏷️语言" class="dropdown-title"><!----> <span class="title" style="display:;">🏷️语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dafnycommunity/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/dafnycommunity/en-US/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/caf1f9/" class="nav-link">💬社区留言板</a></div> <a href="https://github.com/aaron-clou/dafnycommunity" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://s1.ax1x.com/2022/04/01/qh3tDe.png"> <div class="blogger-info"><h3>Dafny</h3> <span>新一代验证语言</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/dafnycommunity/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置" class="dropdown-title"><a href="/dafnycommunity/peizhi/" class="link-title">配置</a> <span class="title" style="display:none;">配置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>入门介绍</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/56e571/" class="nav-link">什么是dafny?</a></li></ul></li><li class="dropdown-item"><h4>用起来吧！</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/4fa796/" class="nav-link">安装</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/085606/" class="nav-link">快速上手</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/39fb20/" class="nav-link">可能遇到的问题?</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><a href="/dafnycommunity/zhinan/" class="link-title">指南</a> <span class="title" style="display:none;">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny快速入门</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/6e15a6/" class="nav-link">基础学习 Basic</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/eba166/" class="nav-link">方法 Method</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/83cdf9/" class="nav-link">关键字 Keyword</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/01d76e/" class="nav-link">函数 Function</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0fadc1/" class="nav-link">类 Class </a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a010ab/" class="nav-link">泛型 Generics</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/c4fda3/" class="nav-link">声明 Statement</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e8438e/" class="nav-link">表达式 Expression</a></li></ul></li><li class="dropdown-item"><h4>Dafny简单例子</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0978ce/" class="nav-link">寻找最大最小数和</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e3e481/" class="nav-link">斐波那契数列</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/02fdef/" class="nav-link">线性查询</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9b332b/" class="nav-link">引理-计算序列非负元素个数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/3d1110/" class="nav-link">集合</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2146d4/" class="nav-link">终止</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="教程" class="dropdown-title"><a href="/dafnycommunity/jiaocheng/" class="link-title">教程</a> <span class="title" style="display:none;">教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafny指导</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/877eb3/" class="nav-link">介绍</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/bf40c0/" class="nav-link">方法 Methods</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2e0c73/" class="nav-link">前置/后置条件 Pre/Postconditions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/36c1b4/" class="nav-link">断言 Assertions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a1d5a4/" class="nav-link">函数 Functions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/d89435/" class="nav-link">循环不变体 Loop Invariants</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/828a83/" class="nav-link">数组 Arrays</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/17e8d1/" class="nav-link">量词(函数) Quantifiers</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cc01af/" class="nav-link">谓词(函数) Predicates</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/13bbcd/" class="nav-link">框架 Framing</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1319be/" class="nav-link">二分搜索 Binary Search</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/30a8c2/" class="nav-link">总结</a></li></ul></li><li class="dropdown-item"><h4>Dafny进阶语法</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/273cac/" class="nav-link">引理和归纳 Lemmas and Induction</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9d19b8/" class="nav-link">模块 Modules</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/b9300a/" class="nav-link">集合 sets</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cb3d21/" class="nav-link">序列 sequence</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fc6196/" class="nav-link">终止 Terminal</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a2a107/" class="nav-link">值类型 Values Types</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="资源" class="dropdown-title"><a href="/dafnycommunity/ziyuan/" class="link-title">资源</a> <span class="title" style="display:none;">资源</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>实践探索</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/718207/" class="nav-link">自动归纳</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1f579f/" class="nav-link">自动调用引理</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/f6638c/" class="nav-link">定义、证明、算法正确性</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1d2420/" class="nav-link">各种推导式</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/20c275/" class="nav-link">不同类型的证明</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/67167e/" class="nav-link">集合元素上的函数</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/be298d/" class="nav-link">在集合上的迭代</a></li></ul></li><li class="dropdown-item"><h4>常用工具</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/8065fd/" class="nav-link">Type System</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0f17ab/" class="nav-link">Style Guide</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fe5721/" class="nav-link">Cheet Sheet</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/1b94a4/" class="nav-link">✨收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🏷️语言" class="dropdown-title"><!----> <span class="title" style="display:;">🏷️语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dafnycommunity/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/dafnycommunity/en-US/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/caf1f9/" class="nav-link">💬社区留言板</a></div> <a href="https://github.com/aaron-clou/dafnycommunity" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>dafny-quick-start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>dafny-tutorials</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>detailed-document</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>publication-lecture</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dafnycommunity/pages/a9363c/" class="sidebar-link">Automatic Induction</a></li><li><a href="/dafnycommunity/pages/30441e/" class="sidebar-link">Calling Lemmas Automatically</a></li><li><a href="/dafnycommunity/pages/746026/" class="sidebar-link">Case study of definitions, proofs, algorithm correctness GCD</a></li><li><a href="/dafnycommunity/pages/da6921/" class="sidebar-link">Comprehensions</a></li><li><a href="/dafnycommunity/pages/8d8607/" class="sidebar-link">Different Styles of Proofs</a></li><li><a href="/dafnycommunity/pages/097ba0/" class="sidebar-link">Functions over Set Elements</a></li><li><a href="/dafnycommunity/pages/c4484e/" class="sidebar-link">Iterating over a Collection</a></li><li><a href="/dafnycommunity/pages/7fe522/" aria-current="page" class="active sidebar-link">old and unchanged</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/7fe522/#_0-the-essence" class="sidebar-link">0. The essence</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/7fe522/#_1-modifies" class="sidebar-link">1. modifies</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/7fe522/#_2-frame-expressions" class="sidebar-link">2. Frame expressions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_2-0-old" class="sidebar-link">2.0. old</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_2-1-unchanged" class="sidebar-link">2.1. unchanged</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/7fe522/#_3-the-fine-print" class="sidebar-link">3. The fine print</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_3-0-modifies-determined-in-pre-state" class="sidebar-link">3.0. modifies determined in pre-state</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_3-1-old-only-affects-the-heap" class="sidebar-link">3.1. old only affects the heap</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_3-2-modifies-permission-is-checked-immediately" class="sidebar-link">3.2. modifies permission is checked immediately</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/7fe522/#_4-advanced-features" class="sidebar-link">4. Advanced features</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_4-0-more-precise-frame-expressions" class="sidebar-link">4.0. More precise frame expressions</a></li><li class="sidebar-sub-header level3"><a href="/dafnycommunity/pages/7fe522/#_4-1-state-labels" class="sidebar-link">4.1. State labels</a></li></ul></li></ul></li><li><a href="/dafnycommunity/pages/369e25/" class="sidebar-link">Short-Circuit Operators</a></li><li><a href="/dafnycommunity/pages/f8c1c5/" class="sidebar-link">Statement versus Expression Syntax</a></li><li><a href="/dafnycommunity/pages/5a4346/" class="sidebar-link">The Parent Trick for proving termination and a function-by-method use case</a></li><li><a href="/dafnycommunity/pages/c45b5a/" class="sidebar-link">Type-Parameter Completion</a></li><li><a href="/dafnycommunity/pages/3c9a0b/" class="sidebar-link">Type-parameter modes variance and cardinality preservation</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/dafnycommunity/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/dafnycommunity/en-US/#语言" data-v-0c557b5e>语言</a></li><li data-v-0c557b5e><a href="/dafnycommunity/en-US/#publication-lecture" data-v-0c557b5e>publication-lecture</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/Aaron-clou" target="_blank" title="作者" class="beLink" data-v-0c557b5e>lijiahai</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-03-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">old and unchanged<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>Dafny Power User:
old and unchanged</p> <p>K. Rustan M. Leino</p> <p>Manuscript KRML 273, 15 February 2020</p> <p><strong>Abstract.</strong> This note addresses the question &quot;What's the difference between <code>old</code> and <code>unchanged</code>?&quot;.</p> <h2 id="_0-the-essence"><a href="#_0-the-essence" class="header-anchor">#</a> 0. The essence</h2> <p>In a nutshell, the expression <code>old(E)</code> denotes the value of expression <code>E</code> evaluated in the pre-state of the enclosing method. The expression <code>unchanged(R)</code> says that the values of the fields of the object denoted by expression <code>R</code> are the same as in the pre-state.</p> <p>For instance, consider the following classes, which I will use throughout this note:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>class C {
  var x: int
  var y: D
  // ...
}
class D {
  var z: int
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>If <code>c</code> is a parameter of type <code>C</code>, then the expression <code>unchanged(c)</code>means</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>old(c.x) == c.x &amp;&amp; old(c.y) == c.y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>But there's more, if you want to know it.</p> <h2 id="_1-modifies"><a href="#_1-modifies" class="header-anchor">#</a> 1. modifies</h2> <p>Let's review <code>modifies</code> clauses on methods.</p> <p>A method must declare the set of (previously allocated) objects whose fields it might modify. So, if a method <code>method M(c: C)</code> wants to do an assignment like</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>c.x := 10;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>or</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>c.x := c.x + 2;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>then its specification must include the object reference <code>c</code> in its <code>modifies</code> clause, like so:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This specification gives <code>M</code> permission to modify the <em>fields</em> of <code>c</code>.</p> <p><strong>Exercise 0.</strong>
What does the following specification mean?</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C, d: D)
  modifies c.y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>Answer.</strong>
It gives <code>M</code> permission to modify the fields of <code>c.y</code>. For example, the body of <code>M</code> can do the following assignment:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>c.y.z := 15;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>It does <em>not</em> give <code>M</code> the permission to modify the <code>y</code> field of object <code>c</code>. For example, the following is not allowed:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>c.y := d;  // error: not allowed by modifies clause 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>A modifies clause is not transitive. That is, <code>modifies c</code> gives permission to modify the fields of <code>c</code>, but not <em>their</em> fields. In particular, the assignment</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>c.y.z := 20;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>is not allowed by the specification <code>modifies c</code>.</p> <p>Methods are always allowed to allocate new objects and modify their fields, even without any mention in the <code>modifies</code> clause. So, here's a way to ensure that <code>c.y.z</code> has a post-value of <code>20</code>:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
  ensures c.y.z == 20
{
  c.y := new D;  // allowed because c is in the modifies clause
  c.y.z := 20;   // allowed because c.y is newly allocated
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Note that this program swap out <code>c.y</code> for a new object. The object previously referenced by <code>c.y</code> is not changed by method <code>M</code>.</p> <h2 id="_2-frame-expressions"><a href="#_2-frame-expressions" class="header-anchor">#</a> 2. Frame expressions</h2> <p>What follows the <code>modifies</code> keyword is a list of <em>frame expressions</em>. A frame expression denotes a set of objects (or arrays).</p> <p>For convenience, a frame expression can be given as a set of object or as a single object. The latter is shorthand for the singleton set containing that object. The modifies clause denotes the set union of the objects denoted by each frame expression in the list. For example,</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method P(c: C, d: D, S: set&lt;object&gt;)
  modifies c, d, S
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>is the same as</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method P(c: C, d: D, S: set&lt;object&gt;)
  modifies {c} + {d} + S
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-0-old"><a href="#_2-0-old" class="header-anchor">#</a> 2.0. old</h3> <p>If you want to say that <code>M</code> has the effect of increasing the value of <code>c.x</code>, then you write a two-state postcondition that mentions the value of <code>c.x</code> in both the method's pre-state and the method's post-state. The former is notated by <code>old(c.x)</code>, and the latter simply by <code>c.x</code>:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
  ensures old(c.x) &lt; c.x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>This specification says nothing about the post-value of <code>c.y</code>. More precisely, the <code>modifies</code> clause gives <code>M</code> permission to update all of the fields of <code>c</code> and the <code>ensures</code> clause does not constrain the final value of <code>c.y</code>.</p> <p>If you want to specify that the value of <code>c.y</code> is not changed, then you can add another postcondition:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
  ensures old(c.x) &lt; c.x &amp;&amp; old(c.y) == c.y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>This postcondition constrains the post-value of <code>c.y</code> to be the same as its pre-value.</p> <h3 id="_2-1-unchanged"><a href="#_2-1-unchanged" class="header-anchor">#</a> 2.1. unchanged</h3> <p>If you want to say that all fields of an object are unchanged, you can use an <code>unchanged</code> expression. For example,</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C, k: int)
  modifies c
  ensures k &lt; 0 ==&gt; unchanged(c)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>This specification gives <code>M</code> license to modify the fields of <code>c</code>. However, the postcondition constrains the fields to have the initial values if <code>k</code> is negative.</p> <p>An <code>unchanged</code> expression accepts a variable number of arguments, each a frame expression. In other words, what you put inside the parentheses that follow the <code>unchanged</code> keyword has the same syntax as <code>modifies</code> clauses. For example,</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method P(c: C, d: D, S: set&lt;object&gt;, k: int)
  modifies c, d, S
  ensures k &lt; 0 ==&gt; unchanged(c, S)
{
  if d !in S {
    d.z := 5;
  }
  if 0 &lt;= k {
    c.x := c.x + 4;
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>is a method that verifies. Note that if <code>d</code> is in the set <code>S</code> and <code>k</code> is negative, then the postcondition says the fields of <code>d</code> must have their initial values, because <code>unchanged(S)</code> says that all fields of all objects in <code>S</code> must not have changed.</p> <h2 id="_3-the-fine-print"><a href="#_3-the-fine-print" class="header-anchor">#</a> 3. The fine print</h2> <h3 id="_3-0-modifies-determined-in-pre-state"><a href="#_3-0-modifies-determined-in-pre-state" class="header-anchor">#</a> 3.0. modifies determined in pre-state</h3> <p>A <code>modifies</code> clause is evaluated in the method's pre-state.</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method R(c: C, d: D)
  modifies c, c.y
{
  var prevCY := c.y;
  c.y := d;  // allowed by &quot;modifies c&quot;
  prevCY.z := 9;  // allowed by &quot;modifies c.y&quot;
  c.y.z := 9;  // not allowed
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>For the last assignment to be legal, the object denoted by <code>c.y</code> at the time of the assignment (namely, <code>d</code>) would have to be in the original <code>modifies</code> clause.</p> <p><strong>Exercise 1.</strong>
Write a precondition for <code>R</code> that makes all assignments legal.</p> <p><strong>Answer.</strong></p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>requires c.y == d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The frame expressions given in an <code>unchanged</code> expression are evaluated where the the <code>unchanged</code> is given. For example, the following method satisfies its specification, because the postcondition talks about the fields of the post-state value of <code>c.y</code>.</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method S(c: C, d: D)
  requires c.y != d
  modifies c, c.y, d
  ensures unchanged(c.y)
{
  c.y.z := 12;
  c.y := d;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>If you change <code>unchanged(c.y)</code> to <code>unchanged(old(c.y))</code>, then the postcondition says that the fields of the object denoted by the pre-state value of <code>c.y</code> must not have changed:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method S'(c: C, d: D)
  requires c.y != d
  modifies c, c.y, d
  ensures unchanged(old(c.y))
{
  c.y := d;
  d.z := d.z + 1;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>So, the body of <code>S'</code> verifies. If the swap the implementations of methods <code>S</code> and <code>S'</code>, then neither of them verifies.</p> <h3 id="_3-1-old-only-affects-the-heap"><a href="#_3-1-old-only-affects-the-heap" class="header-anchor">#</a> 3.1. old only affects the heap</h3> <p><code>old</code> applies only to heap dereferences. If you want to think of it syntactically, then this means the <code>.</code> (dot) in field dereferences (including the <code>.</code> in <code>this.x</code> when you write just <code>x</code> and leave <code>this</code> implicit) and the <code>[</code> <code>]</code> (brackets) in array dereferences. In particular, in- and out-parameters, and local and bound variables are unaffected by <code>old</code>.</p> <p>For example, consider</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method W0(c: C, d: D) returns (k: int)
  modifies c
  ensures old(k == c.y.z)  // k refers to the final value of k
{
  k := c.y.z;
  c.y := d;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>The postcondition of <code>W0</code> holds, because <code>k</code> refers to the output value for <code>k</code> (not the arbitrary value that <code>k</code> starts off with inside the body, which would be meaningless to a caller, anyhow). Also, <code>c</code> inside the <code>old</code> expression refers to (constant) value of in-parameter <code>c</code>.</p> <p>Here is another example method that verifies:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method W1(c: C, a: array&lt;int&gt;)
  requires 0 &lt;= c.x &lt; a.Length
  modifies c, a
{
  var m := a[c.x];
  a[c.x] := m + 5;
  c.x := c.x + 1;
  m := m + 2;
  assert old(m == a[c.x] + 2);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The assertion in the body could equally well have been written</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>assert m == old(a[c.x]) + 2;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>Exercise 2.</strong>
What error message does Dafny produce for the following method?</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method W2() {
  var d := new D;
  d.z := 7;
  assert old(d.z) == 7;  // error
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>Answer.</strong>
The error is</p> <blockquote><p>receiver must be allocated in the state in which its fields are accessed</p></blockquote> <p>The expression <code>old(d.z)</code> tries to get pre-state value of the <code>z</code> field of (the current value of) <code>d</code>. But the object referenced by <code>d</code> was not allocated in the pre-state of the method, so it makes no sense to ask for the value of <code>d.z</code> in the method's pre-state. Dafny detects this and produces an error.</p> <p><strong>Exercise 3.</strong>
Consider the following method:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method W3(c: C, a: array&lt;int&gt;)
  requires 100 &lt;= c.x &lt; a.Length
  requires forall i :: 0 &lt;= i &lt; c.x ==&gt; a[i] == 5
  requires forall i :: c.x &lt;= i &lt; a.Length ==&gt; a[i] == 6
  modifies c, a
  ensures 0 &lt;= c.x &lt; a.Length
{
  a[c.x] := 16;
  c.x := c.x - 1;
  a[c.x] := 15;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This method takes an array with more than <code>100</code> elements. The first <code>c.x</code> of elements start off as <code>5</code>, and the rest equal <code>6</code>. The <code>modifies</code> clause and postcondition say that the method is allowed to modify both the fields of <code>c</code> and the elements of <code>a</code>. You can see that the method's implementation satisfies that specification.</p> <p>How do you write a postcondition that refers to</p> <p>a) the final (that is, post-state) value of the array element at the index given by the final value of <code>c.x</code>?</p> <p>b) the initial (that is, pre-state) value of the array element at the index given by the initial value of <code>c.x</code>?</p> <p>c) the final value of the array element at the index given by the initial value of <code>c.x</code>?</p> <p>d) (tricky!) the initial value of the array element at the index given by the final value of <code>c.x</code>?</p> <p><strong>Answer.</strong>
a) Easy peasy:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>ensures a[c.x] == 15
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>b) Easy peasy:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>ensures old(a[c.x]) == 6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>c) By wrapping <code>old</code> around <code>c.x</code>, the dereference (that is, the dot) picks up the initial value of <code>c.x</code>. By making sure you don't wrap the array dereference (that is, the brackets) inside <code>old</code>, the expression <code>a[...]</code> will pick up the final value of teh array element.</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>ensures a[old(c.x)] == 16
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>d) If we could, we'd wrap <code>old</code> around the brackets, but not the <code>.</code>. But that doesn't work, because what goes between the parentheses of <code>old</code> must syntactically be an expression, not just some random characters. Instead, we can use a let expression: let the bound variable <code>k</code> be the final value of <code>c.x</code>, and then use this bound variable inside <code>old</code>:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>ensures var k := c.x; old(a[k]) == 5
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_3-2-modifies-permission-is-checked-immediately"><a href="#_3-2-modifies-permission-is-checked-immediately" class="header-anchor">#</a> 3.2. modifies permission is checked immediately</h3> <p>For every heap assignment in a method, Dafny checks that the method has license to modify the indicated heap location. That is, the heap location must either be allowed by the <code>modifies</code> clause or be newly allocated (that is, allocated since the start of the enclosing method). If the method does not have this license, then the heap assignment is illegal, even if the method later restores the previous value. For example, the following is illegal:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C) {
  c.x := c.x + 1;  // error
  c.x := c.x - 1;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>In fact, this is also illegal:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C) {
  c.x := c.x;  // error
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>But for a method with the following specification:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
  ensures unchanged(c)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>both of the method implementations above are legal.</p> <h2 id="_4-advanced-features"><a href="#_4-advanced-features" class="header-anchor">#</a> 4. Advanced features</h2> <h3 id="_4-0-more-precise-frame-expressions"><a href="#_4-0-more-precise-frame-expressions" class="header-anchor">#</a> 4.0. More precise frame expressions</h3> <p>It is appropriate to think of Dafny's frame expressions as operating at the <em>object granularity</em>. That is, <code>modifies</code> clauses (and also <code>unchanged</code> expressions, as well as the <code>reads</code> clauses of functions) take a set of <em>objects</em> and give permission to modify the fields of those objects (or, for <code>unchanged</code>, say that the fields of those objects are not changed, or, for <code>reads</code>, say that the function is allowed to depend on the fields of those objects).</p> <p>It can happen that you want to be more precise. For example, suppose you want to say that a method may modify the <code>y</code> field of a given parameter <code>c</code>, but not the <code>x</code> field. You can specify this behavior by</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
  ensures old(c.x) == c.x
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>This works well if you want to modify most of the fields of <code>c</code>, but want to call out that some fields stay the same. (If a field <em>never</em> changes after construction, it is best to declare it as immutable, which you do with <code>const</code>.) But if instead most fields remain the same and you only want to modify one or two, then the use of <code>old</code> will feel verbose.</p> <p>Dafny provides a way to give some frame expressions at the <em>object-field granularity</em>. You do this by appending a back-tick and the expression that denotes the object. For example, to specify that only the <code>y</code> field of <code>c</code> may change, you can write</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c`y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This says <code>M</code> is not allowed to modify all fields of <code>c</code>, but only the <code>y</code> field. Note that this is quite different from saying <code>modifies c.y</code>, which gives <code>M</code> permission to modify all fields of the object denoted by <code>c.y</code>.</p> <p>The object-field granularity can also be used in <code>unchanged</code> expressions (and <code>reads</code> clauses). For example, yet another way to specify the method <code>M</code> is</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method M(c: C)
  modifies c
  ensures unchanged(c`x)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Just like you can abbreviate <code>this.x</code> by just <code>x</code> (if there is no ambiguity with other local names), you can also abbreviate <code>this</code>x<code>by just ``x</code>.</p> <p>Regrettably, Dafny does allow this back-tick notation for array elements, for it would be mighty nice to be able to write specifications like</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method P(a: array&lt;int&gt;, i: int, m: int, n: int)
  requires 0 &lt;= i &lt; a.Length
  requires 0 &lt;= m &lt;= n &lt;= a.Length
  modifies a`[i], a`[m..n]  // error: this syntax is not supported
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>A future version of Dafny may support this syntax.</p> <h3 id="_4-1-state-labels"><a href="#_4-1-state-labels" class="header-anchor">#</a> 4.1. State labels</h3> <p><code>old</code> and <code>unchanged</code> are examples of two-state predicates. That means they talk not just about the current state, but also about a previous state—namely, the pre-state of the enclosing method, in all the examples we've seen so far. (Well, <code>old</code> only talks about the previous state, not the current state, but it's still a two-state predicate, because it doesn't just talk about the current state.)</p> <p>The primary use of two-state expressions is in postconditions. However, you can also use them, for example, in assertions in a method body, like so:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method L(c: C)
  modifies c
{
  c.x := c.x + 2;
  c.x := c.x + 3;
  c.x := c.x + 4;
  assert c.x == old(c.x) + 9 &amp;&amp; unchanged(c`y);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Sometimes, you want to talk about a heap value in some intermediate state. One way to do that is to use ghost variables. For example:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method L1(c: C)
  modifies c
{
  c.x := c.x + 2;
  ghost var g := c.x;
  c.x := c.x + 3;
  ghost var h := c.x;
  c.x := c.x + 4;
  assert c.x == h + 4 == g + 7 == old(c.x) + 9;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>If you want to refer to many values in the heap from an previous intermediate state, then you can use <em>labels</em>. These are the same labels as you would use to do a control-flow break out of a loop or other statement. Like in many other languages, the declaration of a label in Dafny ends with a <code>:</code> (colon). Unlike many other languages, Dafny also requires the declaration to start with the keyword <code>label</code>, which is intended to make the placement more prominent.</p> <p><code>old</code> and <code>unchanged</code> can be followed with <code>@</code> and a label, which makes them two-state predicates that refer to the current state and the previous state. Here is an example:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method L2(c: C)
  modifies c
{
  c.x := c.x + 2;
  c.y := new D;
  label G:
  c.x := c.x + 3;
  label H:
  c.x := c.x + 4;
  assert c.x == old@H(c.x) + 4 == old@G(c.x) + 7 == old(c.x) + 9;
  assert unchanged@G(c`y);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Here's a more stimulating example:</p> <div class="language-dafnyx line-numbers-mode"><pre class="language-text"><code>method Inc(c: C, m: nat, n: nat)
  modifies c
  ensures c.x == old(c.x) + 3 * m + 2 * n
{
  var i := 0;
  while i &lt; m
    invariant 0 &lt;= i &lt;= m
    invariant c.x == old(c.x) + 3 * i
  {
    c.x, i := c.x + 3, i + 1;
  }
  label Middle:
  i := 0;
  while i &lt; n
    invariant 0 &lt;= i &lt;= n
    invariant c.x == old@Middle(c.x) + 2 * i
  {
    c.x, i := c.x + 2, i + 1;
  }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/aaron-clou/dafnycommunity/edit/master/docs/80.语言/30.publication-lecture/40.old and unchanged.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022/03/26, 14:38:56</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/dafnycommunity/pages/c4484e/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Iterating over a Collection</div></a> <a href="/dafnycommunity/pages/369e25/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Short-Circuit Operators</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/dafnycommunity/pages/c4484e/" class="prev">Iterating over a Collection</a></span> <span class="next"><a href="/dafnycommunity/pages/369e25/">Short-Circuit Operators</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/dafnycommunity/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/dafnycommunity/pages/0978ce/"><div>
            寻找最大和最小数
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/dafnycommunity/pages/e3e481/"><div>
            斐波那契数列
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/dafnycommunity/pages/02fdef/"><div>
            线性查询
            <!----></div></a> <span class="date">04-06</span></dt></dl> <dl><dd></dd> <dt><a href="/dafnycommunity/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Aaron-clou/dafnycommunity" title="Github" target="_blank" class="iconfont icon-github-fill"></a><a href="https://gitee.com/leo214/dafnycommunity" title="Gitee" target="_blank" class="iconfont icon-gitee2"></a><a href="1374921025@qq.com" title="Email" target="_blank" class="iconfont icon-email-fill"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2022
    <span>Li Jiahai | Dafny Community | 2022</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div id="tcomment"></div><div></div></div></div>
    <script src="/dafnycommunity/assets/js/app.99d07194.js" defer></script><script src="/dafnycommunity/assets/js/2.ab4658c0.js" defer></script><script src="/dafnycommunity/assets/js/81.6e19e312.js" defer></script><script src="/dafnycommunity/assets/js/7.5451cfed.js" defer></script><script src="/dafnycommunity/assets/js/4.06497870.js" defer></script>
  </body>
</html>
