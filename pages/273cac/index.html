<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¼•ç†å’Œå½’çº³ | Dafny</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/dafnycommunity/img/bgico2.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3282046_1qux519eoim.css">
    <script src="https://cdn.jsdelivr.net/npm/twikoo@1.5.0/dist/twikoo.all.min.js"></script>
    <meta name="description" content="Dafnyä¸­æ–‡ç¤¾åŒº">
    <meta name="theme-color" content="#11a8cd">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/dafnycommunity/assets/css/0.styles.ecdcfe28.css" as="style"><link rel="preload" href="/dafnycommunity/assets/js/app.99d07194.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/2.ab4658c0.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/50.060e0424.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/7.5451cfed.js" as="script"><link rel="preload" href="/dafnycommunity/assets/js/4.06497870.js" as="script"><link rel="prefetch" href="/dafnycommunity/assets/js/10.ac38cab7.js"><link rel="prefetch" href="/dafnycommunity/assets/js/11.38d5ee16.js"><link rel="prefetch" href="/dafnycommunity/assets/js/12.c434ce94.js"><link rel="prefetch" href="/dafnycommunity/assets/js/13.4e922264.js"><link rel="prefetch" href="/dafnycommunity/assets/js/14.db841cfa.js"><link rel="prefetch" href="/dafnycommunity/assets/js/15.b9c227cc.js"><link rel="prefetch" href="/dafnycommunity/assets/js/16.41dadc32.js"><link rel="prefetch" href="/dafnycommunity/assets/js/17.48b5f1eb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/18.ec254833.js"><link rel="prefetch" href="/dafnycommunity/assets/js/19.288ca382.js"><link rel="prefetch" href="/dafnycommunity/assets/js/20.cfeb5fdb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/21.ce8ddc5a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/22.1b8c89f0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/23.cb062ace.js"><link rel="prefetch" href="/dafnycommunity/assets/js/24.ff271672.js"><link rel="prefetch" href="/dafnycommunity/assets/js/25.5541f3af.js"><link rel="prefetch" href="/dafnycommunity/assets/js/26.a1bbc4cb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/27.522d7884.js"><link rel="prefetch" href="/dafnycommunity/assets/js/28.9335c003.js"><link rel="prefetch" href="/dafnycommunity/assets/js/29.3fc0b07a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/3.ab8a97d8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/30.57708681.js"><link rel="prefetch" href="/dafnycommunity/assets/js/31.8571b949.js"><link rel="prefetch" href="/dafnycommunity/assets/js/32.f91be5de.js"><link rel="prefetch" href="/dafnycommunity/assets/js/33.8089c59b.js"><link rel="prefetch" href="/dafnycommunity/assets/js/34.874d0299.js"><link rel="prefetch" href="/dafnycommunity/assets/js/35.aff8adfd.js"><link rel="prefetch" href="/dafnycommunity/assets/js/36.ac78b86e.js"><link rel="prefetch" href="/dafnycommunity/assets/js/37.3fae0334.js"><link rel="prefetch" href="/dafnycommunity/assets/js/38.3db4a8d6.js"><link rel="prefetch" href="/dafnycommunity/assets/js/39.e585cc70.js"><link rel="prefetch" href="/dafnycommunity/assets/js/40.afcb8fbe.js"><link rel="prefetch" href="/dafnycommunity/assets/js/41.01f314da.js"><link rel="prefetch" href="/dafnycommunity/assets/js/42.8e4fe21d.js"><link rel="prefetch" href="/dafnycommunity/assets/js/43.571fb232.js"><link rel="prefetch" href="/dafnycommunity/assets/js/44.14aebad2.js"><link rel="prefetch" href="/dafnycommunity/assets/js/45.32f18970.js"><link rel="prefetch" href="/dafnycommunity/assets/js/46.ce0d522f.js"><link rel="prefetch" href="/dafnycommunity/assets/js/47.0bd83351.js"><link rel="prefetch" href="/dafnycommunity/assets/js/48.648f667a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/49.83709ae0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/5.b8548e7f.js"><link rel="prefetch" href="/dafnycommunity/assets/js/51.a1291856.js"><link rel="prefetch" href="/dafnycommunity/assets/js/52.45f73497.js"><link rel="prefetch" href="/dafnycommunity/assets/js/53.525782ca.js"><link rel="prefetch" href="/dafnycommunity/assets/js/54.45a04a86.js"><link rel="prefetch" href="/dafnycommunity/assets/js/55.65a94ba0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/56.2d038113.js"><link rel="prefetch" href="/dafnycommunity/assets/js/57.579db650.js"><link rel="prefetch" href="/dafnycommunity/assets/js/58.832d4c89.js"><link rel="prefetch" href="/dafnycommunity/assets/js/59.13befb53.js"><link rel="prefetch" href="/dafnycommunity/assets/js/6.349bf431.js"><link rel="prefetch" href="/dafnycommunity/assets/js/60.41227bb1.js"><link rel="prefetch" href="/dafnycommunity/assets/js/61.1d1b92f4.js"><link rel="prefetch" href="/dafnycommunity/assets/js/62.2cdbc236.js"><link rel="prefetch" href="/dafnycommunity/assets/js/63.83de9482.js"><link rel="prefetch" href="/dafnycommunity/assets/js/64.4ecd0d25.js"><link rel="prefetch" href="/dafnycommunity/assets/js/65.25118b81.js"><link rel="prefetch" href="/dafnycommunity/assets/js/66.cdab1b54.js"><link rel="prefetch" href="/dafnycommunity/assets/js/67.655e6e84.js"><link rel="prefetch" href="/dafnycommunity/assets/js/68.84effb44.js"><link rel="prefetch" href="/dafnycommunity/assets/js/69.8f07f81a.js"><link rel="prefetch" href="/dafnycommunity/assets/js/70.d9a299e6.js"><link rel="prefetch" href="/dafnycommunity/assets/js/71.16ef2000.js"><link rel="prefetch" href="/dafnycommunity/assets/js/72.8252acc5.js"><link rel="prefetch" href="/dafnycommunity/assets/js/73.f53e39bc.js"><link rel="prefetch" href="/dafnycommunity/assets/js/74.5ef910c4.js"><link rel="prefetch" href="/dafnycommunity/assets/js/75.72174d00.js"><link rel="prefetch" href="/dafnycommunity/assets/js/76.bebf75c9.js"><link rel="prefetch" href="/dafnycommunity/assets/js/77.b85547c7.js"><link rel="prefetch" href="/dafnycommunity/assets/js/78.a0a1f574.js"><link rel="prefetch" href="/dafnycommunity/assets/js/79.a731d645.js"><link rel="prefetch" href="/dafnycommunity/assets/js/8.522ce892.js"><link rel="prefetch" href="/dafnycommunity/assets/js/80.6e5b64b0.js"><link rel="prefetch" href="/dafnycommunity/assets/js/81.6e19e312.js"><link rel="prefetch" href="/dafnycommunity/assets/js/82.9244e788.js"><link rel="prefetch" href="/dafnycommunity/assets/js/83.f08c5aed.js"><link rel="prefetch" href="/dafnycommunity/assets/js/84.085ef3f8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/85.c41e6e0e.js"><link rel="prefetch" href="/dafnycommunity/assets/js/86.e3798708.js"><link rel="prefetch" href="/dafnycommunity/assets/js/87.fdac1c1c.js"><link rel="prefetch" href="/dafnycommunity/assets/js/88.665ac8c8.js"><link rel="prefetch" href="/dafnycommunity/assets/js/89.78dc55eb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/9.4d4f4bdb.js"><link rel="prefetch" href="/dafnycommunity/assets/js/90.4757b202.js"><link rel="prefetch" href="/dafnycommunity/assets/js/91.a0746cf2.js">
    <link rel="stylesheet" href="/dafnycommunity/assets/css/0.styles.ecdcfe28.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/dafnycommunity/" class="home-link router-link-active"><img src="/dafnycommunity/img/logo-2.png" alt="Dafny" class="logo"> <span class="site-name can-hide">Dafny</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/dafnycommunity/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é…ç½®" class="dropdown-title"><a href="/dafnycommunity/peizhi/" class="link-title">é…ç½®</a> <span class="title" style="display:none;">é…ç½®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å…¥é—¨ä»‹ç»</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/56e571/" class="nav-link">ä»€ä¹ˆæ˜¯dafny?</a></li></ul></li><li class="dropdown-item"><h4>ç”¨èµ·æ¥å§ï¼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/4fa796/" class="nav-link">å®‰è£…</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/085606/" class="nav-link">å¿«é€Ÿä¸Šæ‰‹</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/39fb20/" class="nav-link">å¯èƒ½é‡åˆ°çš„é—®é¢˜?</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŒ‡å—" class="dropdown-title"><a href="/dafnycommunity/zhinan/" class="link-title">æŒ‡å—</a> <span class="title" style="display:none;">æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafnyå¿«é€Ÿå…¥é—¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/6e15a6/" class="nav-link">åŸºç¡€å­¦ä¹  Basic</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/eba166/" class="nav-link">æ–¹æ³• Method</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/83cdf9/" class="nav-link">å…³é”®å­— Keyword</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/01d76e/" class="nav-link">å‡½æ•° Function</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0fadc1/" class="nav-link">ç±» Class </a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a010ab/" class="nav-link">æ³›å‹ Generics</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/c4fda3/" class="nav-link">å£°æ˜ Statement</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e8438e/" class="nav-link">è¡¨è¾¾å¼ Expression</a></li></ul></li><li class="dropdown-item"><h4>Dafnyç®€å•ä¾‹å­</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0978ce/" class="nav-link">å¯»æ‰¾æœ€å¤§æœ€å°æ•°å’Œ</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e3e481/" class="nav-link">æ–æ³¢é‚£å¥‘æ•°åˆ—</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/02fdef/" class="nav-link">çº¿æ€§æŸ¥è¯¢</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9b332b/" class="nav-link">å¼•ç†-è®¡ç®—åºåˆ—éè´Ÿå…ƒç´ ä¸ªæ•°</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/3d1110/" class="nav-link">é›†åˆ</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2146d4/" class="nav-link">ç»ˆæ­¢</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•™ç¨‹" class="dropdown-title"><a href="/dafnycommunity/jiaocheng/" class="link-title">æ•™ç¨‹</a> <span class="title" style="display:none;">æ•™ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>DafnyæŒ‡å¯¼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/877eb3/" class="nav-link">ä»‹ç»</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/bf40c0/" class="nav-link">æ–¹æ³• Methods</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2e0c73/" class="nav-link">å‰ç½®/åç½®æ¡ä»¶ Pre/Postconditions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/36c1b4/" class="nav-link">æ–­è¨€ Assertions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a1d5a4/" class="nav-link">å‡½æ•° Functions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/d89435/" class="nav-link">å¾ªç¯ä¸å˜ä½“ Loop Invariants</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/828a83/" class="nav-link">æ•°ç»„ Arrays</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/17e8d1/" class="nav-link">é‡è¯(å‡½æ•°) Quantifiers</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cc01af/" class="nav-link">è°“è¯(å‡½æ•°) Predicates</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/13bbcd/" class="nav-link">æ¡†æ¶ Framing</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1319be/" class="nav-link">äºŒåˆ†æœç´¢ Binary Search</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/30a8c2/" class="nav-link">æ€»ç»“</a></li></ul></li><li class="dropdown-item"><h4>Dafnyè¿›é˜¶è¯­æ³•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/273cac/" aria-current="page" class="nav-link router-link-exact-active router-link-active">å¼•ç†å’Œå½’çº³ Lemmas and Induction</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9d19b8/" class="nav-link">æ¨¡å— Modules</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/b9300a/" class="nav-link">é›†åˆ sets</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cb3d21/" class="nav-link">åºåˆ— sequence</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fc6196/" class="nav-link">ç»ˆæ­¢ Terminal</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a2a107/" class="nav-link">å€¼ç±»å‹ Values Types</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="èµ„æº" class="dropdown-title"><a href="/dafnycommunity/ziyuan/" class="link-title">èµ„æº</a> <span class="title" style="display:none;">èµ„æº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å®è·µæ¢ç´¢</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/718207/" class="nav-link">è‡ªåŠ¨å½’çº³</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1f579f/" class="nav-link">è‡ªåŠ¨è°ƒç”¨å¼•ç†</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/f6638c/" class="nav-link">å®šä¹‰ã€è¯æ˜ã€ç®—æ³•æ­£ç¡®æ€§</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1d2420/" class="nav-link">å„ç§æ¨å¯¼å¼</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/20c275/" class="nav-link">ä¸åŒç±»å‹çš„è¯æ˜</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/67167e/" class="nav-link">é›†åˆå…ƒç´ ä¸Šçš„å‡½æ•°</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/be298d/" class="nav-link">åœ¨é›†åˆä¸Šçš„è¿­ä»£</a></li></ul></li><li class="dropdown-item"><h4>å¸¸ç”¨å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/8065fd/" class="nav-link">Type System</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0f17ab/" class="nav-link">Style Guide</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fe5721/" class="nav-link">Cheet Sheet</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/1b94a4/" class="nav-link">âœ¨æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ·ï¸è¯­è¨€" class="dropdown-title"><!----> <span class="title" style="display:;">ğŸ·ï¸è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dafnycommunity/" class="nav-link">ç®€ä½“ä¸­æ–‡</a></li><li class="dropdown-item"><!----> <a href="/dafnycommunity/en-US/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/caf1f9/" class="nav-link">ğŸ’¬ç¤¾åŒºç•™è¨€æ¿</a></div> <a href="https://github.com/aaron-clou/dafnycommunity" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://s1.ax1x.com/2022/04/01/qh3tDe.png"> <div class="blogger-info"><h3>Dafny</h3> <span>æ–°ä¸€ä»£éªŒè¯è¯­è¨€</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/dafnycommunity/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é…ç½®" class="dropdown-title"><a href="/dafnycommunity/peizhi/" class="link-title">é…ç½®</a> <span class="title" style="display:none;">é…ç½®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å…¥é—¨ä»‹ç»</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/56e571/" class="nav-link">ä»€ä¹ˆæ˜¯dafny?</a></li></ul></li><li class="dropdown-item"><h4>ç”¨èµ·æ¥å§ï¼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/4fa796/" class="nav-link">å®‰è£…</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/085606/" class="nav-link">å¿«é€Ÿä¸Šæ‰‹</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/39fb20/" class="nav-link">å¯èƒ½é‡åˆ°çš„é—®é¢˜?</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æŒ‡å—" class="dropdown-title"><a href="/dafnycommunity/zhinan/" class="link-title">æŒ‡å—</a> <span class="title" style="display:none;">æŒ‡å—</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Dafnyå¿«é€Ÿå…¥é—¨</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/6e15a6/" class="nav-link">åŸºç¡€å­¦ä¹  Basic</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/eba166/" class="nav-link">æ–¹æ³• Method</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/83cdf9/" class="nav-link">å…³é”®å­— Keyword</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/01d76e/" class="nav-link">å‡½æ•° Function</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0fadc1/" class="nav-link">ç±» Class </a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a010ab/" class="nav-link">æ³›å‹ Generics</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/c4fda3/" class="nav-link">å£°æ˜ Statement</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e8438e/" class="nav-link">è¡¨è¾¾å¼ Expression</a></li></ul></li><li class="dropdown-item"><h4>Dafnyç®€å•ä¾‹å­</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0978ce/" class="nav-link">å¯»æ‰¾æœ€å¤§æœ€å°æ•°å’Œ</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/e3e481/" class="nav-link">æ–æ³¢é‚£å¥‘æ•°åˆ—</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/02fdef/" class="nav-link">çº¿æ€§æŸ¥è¯¢</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9b332b/" class="nav-link">å¼•ç†-è®¡ç®—åºåˆ—éè´Ÿå…ƒç´ ä¸ªæ•°</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/3d1110/" class="nav-link">é›†åˆ</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2146d4/" class="nav-link">ç»ˆæ­¢</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•™ç¨‹" class="dropdown-title"><a href="/dafnycommunity/jiaocheng/" class="link-title">æ•™ç¨‹</a> <span class="title" style="display:none;">æ•™ç¨‹</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>DafnyæŒ‡å¯¼</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/877eb3/" class="nav-link">ä»‹ç»</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/bf40c0/" class="nav-link">æ–¹æ³• Methods</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/2e0c73/" class="nav-link">å‰ç½®/åç½®æ¡ä»¶ Pre/Postconditions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/36c1b4/" class="nav-link">æ–­è¨€ Assertions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a1d5a4/" class="nav-link">å‡½æ•° Functions</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/d89435/" class="nav-link">å¾ªç¯ä¸å˜ä½“ Loop Invariants</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/828a83/" class="nav-link">æ•°ç»„ Arrays</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/17e8d1/" class="nav-link">é‡è¯(å‡½æ•°) Quantifiers</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cc01af/" class="nav-link">è°“è¯(å‡½æ•°) Predicates</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/13bbcd/" class="nav-link">æ¡†æ¶ Framing</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1319be/" class="nav-link">äºŒåˆ†æœç´¢ Binary Search</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/30a8c2/" class="nav-link">æ€»ç»“</a></li></ul></li><li class="dropdown-item"><h4>Dafnyè¿›é˜¶è¯­æ³•</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/273cac/" aria-current="page" class="nav-link router-link-exact-active router-link-active">å¼•ç†å’Œå½’çº³ Lemmas and Induction</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/9d19b8/" class="nav-link">æ¨¡å— Modules</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/b9300a/" class="nav-link">é›†åˆ sets</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/cb3d21/" class="nav-link">åºåˆ— sequence</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fc6196/" class="nav-link">ç»ˆæ­¢ Terminal</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/a2a107/" class="nav-link">å€¼ç±»å‹ Values Types</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="èµ„æº" class="dropdown-title"><a href="/dafnycommunity/ziyuan/" class="link-title">èµ„æº</a> <span class="title" style="display:none;">èµ„æº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>å®è·µæ¢ç´¢</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/718207/" class="nav-link">è‡ªåŠ¨å½’çº³</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1f579f/" class="nav-link">è‡ªåŠ¨è°ƒç”¨å¼•ç†</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/f6638c/" class="nav-link">å®šä¹‰ã€è¯æ˜ã€ç®—æ³•æ­£ç¡®æ€§</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/1d2420/" class="nav-link">å„ç§æ¨å¯¼å¼</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/20c275/" class="nav-link">ä¸åŒç±»å‹çš„è¯æ˜</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/67167e/" class="nav-link">é›†åˆå…ƒç´ ä¸Šçš„å‡½æ•°</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/be298d/" class="nav-link">åœ¨é›†åˆä¸Šçš„è¿­ä»£</a></li></ul></li><li class="dropdown-item"><h4>å¸¸ç”¨å·¥å…·</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/dafnycommunity/pages/8065fd/" class="nav-link">Type System</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/0f17ab/" class="nav-link">Style Guide</a></li><li class="dropdown-subitem"><a href="/dafnycommunity/pages/fe5721/" class="nav-link">Cheet Sheet</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/1b94a4/" class="nav-link">âœ¨æ”¶è—</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ğŸ·ï¸è¯­è¨€" class="dropdown-title"><!----> <span class="title" style="display:;">ğŸ·ï¸è¯­è¨€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/dafnycommunity/" class="nav-link">ç®€ä½“ä¸­æ–‡</a></li><li class="dropdown-item"><!----> <a href="/dafnycommunity/en-US/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/dafnycommunity/pages/caf1f9/" class="nav-link">ğŸ’¬ç¤¾åŒºç•™è¨€æ¿</a></div> <a href="https://github.com/aaron-clou/dafnycommunity" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dafnyæ•™ç¨‹</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Dafnyè¿›é˜¶è¯­æ³•</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dafnycommunity/pages/273cac/" aria-current="page" class="active sidebar-link">å¼•ç†å’Œå½’çº³</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#å¼•è¨€" class="sidebar-link">å¼•è¨€</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#é›¶æœç´¢" class="sidebar-link">é›¶æœç´¢</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#å¼•ç†" class="sidebar-link">å¼•ç†</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#è®¡æ•°" class="sidebar-link">è®¡æ•°</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#è¯æ˜åˆ†é…æ€§è´¨" class="sidebar-link">è¯æ˜åˆ†é…æ€§è´¨</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#å½’çº³" class="sidebar-link">å½’çº³</a></li><li class="sidebar-sub-header level2"><a href="/dafnycommunity/pages/273cac/#æœ‰å‘å›¾çš„è·¯å¾„" class="sidebar-link">æœ‰å‘å›¾çš„è·¯å¾„</a></li></ul></li><li><a href="/dafnycommunity/pages/9d19b8/" class="sidebar-link">æ¨¡å—</a></li><li><a href="/dafnycommunity/pages/b9300a/" class="sidebar-link">é›†åˆ</a></li><li><a href="/dafnycommunity/pages/cb3d21/" class="sidebar-link">åºåˆ—</a></li><li><a href="/dafnycommunity/pages/fc6196/" class="sidebar-link">ç»ˆæ­¢</a></li><li><a href="/dafnycommunity/pages/a2a107/" class="sidebar-link">å€¼ç±»å‹</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/dafnycommunity/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/dafnycommunity/jiaocheng/#æ•™ç¨‹" data-v-0c557b5e>æ•™ç¨‹</a></li><li data-v-0c557b5e><a href="/dafnycommunity/jiaocheng/#Dafnyè¿›é˜¶è¯­æ³•" data-v-0c557b5e>Dafnyè¿›é˜¶è¯­æ³•</a></li></ul> <div class="info" data-v-0c557b5e><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="https://github.com/Aaron-clou" target="_blank" title="ä½œè€…" class="beLink" data-v-0c557b5e>lijiahai</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2022-03-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">ç›®å½•</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">å¼•ç†å’Œå½’çº³<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="å¼•ç†å’Œå½’çº³"><a href="#å¼•ç†å’Œå½’çº³" class="header-anchor">#</a> å¼•ç†å’Œå½’çº³</h1> <h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="header-anchor">#</a> å¼•è¨€</h2> <p>æœ‰æ—¶éœ€è¦ä¸€äº›é€»è¾‘æ­¥éª¤æ¥è¯æ˜ä¸€ä¸ªç¨‹åºæ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å¯¹äºDafnyæ¥è¯´ï¼Œè¿™äº›æ­¥éª¤å¤ªå¤æ‚äº†ã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬é€šå¸¸å¯ä»¥é€šè¿‡æä¾›å¼•ç†æ¥å¸®åŠ©Dafnyè¯æ˜ç¨‹åºã€‚</p> <p>å¼•ç†æ˜¯ç”¨æ¥è¯æ˜å¦ä¸€ä¸ªç»“æœçš„å®šç†ï¼Œè€Œä¸æ˜¯ç”¨æ¥è¯æ˜æœ¬èº«ã€‚ä»–ä»¬å…è®¸Dafnyå°†è¯æ˜åˆ†æˆä¸¤éƒ¨åˆ†:è¯æ˜å¼•ç†ï¼Œç„¶åç”¨å¼•ç†æ¥è¯æ˜æœ€ç»ˆç»“æœ;æœ€åçš„ç»“æœå°±æ˜¯ç¨‹åºæ­£ç¡®æ€§çš„è¯æ˜ã€‚é€šè¿‡è¿™æ ·åˆ†å‰²å®ƒï¼Œä½ å¯ä»¥é˜²æ­¢Dafnyè¯•å›¾è¯æ˜è¿œè¶…å®ƒè¯æ˜èƒ½åŠ›çš„ç¨‹åºã€‚æ€»çš„æ¥è¯´ï¼ŒDafnyå’Œè®¡ç®—æœºåœ¨å¤„ç†ä¸€å †å…·ä½“ç»†èŠ‚æƒ…å†µæ–¹é¢éƒ½åšå¾—å¾ˆå¥½ï¼Œä½†å®ƒç¼ºä¹çœ‹åˆ°èƒ½ä½¿è¯æ˜è¿‡ç¨‹å˜å¾—æ›´å®¹æ˜“çš„ä¸­é—´æ­¥éª¤çš„èƒ½åŠ›ã€‚</p> <p>é€šè¿‡ä½¿ç”¨å¼•ç†ï¼Œä½ å¯ä»¥æ‰¾å‡ºè¿™äº›ä¸­é—´æ­¥éª¤æ˜¯ä»€ä¹ˆï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™åœ¨ç¨‹åºä½¿ç”¨å®ƒä»¬ã€‚å¯¹äºæœ‰å…³å½’çº³è®ºè¯çš„é—®é¢˜æ¥è¯´ï¼Œ<code>lemma</code>æ— ç–‘æ˜¯å¯¹ç—‡ä¸‹è¯çš„ä¸€å‰‚è‰¯æ–¹ã€‚</p> <h2 id="é›¶æœç´¢"><a href="#é›¶æœç´¢" class="header-anchor">#</a> é›¶æœç´¢</h2> <p>æˆ‘ä»¬é¦–æ¬¡æ¥è§¦å¼•ç†ï¼Œå…ˆæ¥å­¦ä¹ ä¸€ä¸ªç®€å•çš„ä¾‹å­:åœ¨æ•°ç»„ä¸­æœç´¢é›¶ã€‚è¿™ä¸ªé—®é¢˜æœ‰è¶£åœ¨äºæˆ‘ä»¬æ­£åœ¨æœç´¢çš„è¿™ä¸ªæ•°ç»„æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„å±æ€§:
æ‰€æœ‰å…ƒç´ éƒ½æ˜¯éè´Ÿçš„ã€‚
æ¯ä¸ªè¿ç»­å…ƒç´ æœ€å¤šæ¯”å‰ä¸€ä¸ªå…ƒç´ å°ä¸€ã€‚
åœ¨ä»£ç :</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>method FindZero(a: array&lt;int&gt;) returns (index: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
{
}
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æœ‰è¿™æ ·çš„ä¸€å †è¦æ±‚æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€äº›èªæ˜çš„æ–¹æ³•:æˆ‘ä»¬å¯ä»¥è·³è¿‡å…ƒç´ ã€‚å‡è®¾æˆ‘ä»¬æ­£åœ¨éå†æ•°ç»„ï¼Œçœ‹åˆ°<code>a[j] == 7</code>ã€‚ç„¶åæˆ‘ä»¬çŸ¥é“<code>6 &lt;= a[j+1]</code>ï¼Œ<code>5 &lt;= a[j+2]</code>ï¼Œç­‰ç­‰ã€‚äº‹å®ä¸Šï¼Œä¸‹ä¸€ä¸ª0è¦ç­‰åˆ°æ•°ç»„ä¸­7ä¸ªå…ƒç´ å…¨éƒ¨èµ°ä¸€éæ—¶æ‰ä¼šå‡ºç°ã€‚æ‰€ä»¥æˆ‘ä»¬ç”šè‡³ä¸éœ€è¦åˆ»æ„å¯»æ‰¾0åªç”¨ä¸€ç›´<code>a[j+a[j]]</code>å°±è¡Œäº†ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ä¸€ä¸ªå¾ªç¯:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>method FindZero(a: array&lt;int&gt;) returns (index: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   ensures index &lt; 0  ==&gt; forall i :: 0 &lt;= i &lt; a.Length ==&gt; a[i] != 0
   ensures 0 &lt;= index ==&gt; index &lt; a.Length &amp;&amp; a[index] == 0
{
   index := 0;
   while index &lt; a.Length
      invariant 0 &lt;= index
      invariant forall k :: 0 &lt;= k &lt; index &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      if a[index] == 0 { return; }
      index := index + a[index];
   }
   index := -1;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>   index := 0;
   while index &lt; a.Length
      invariant 0 &lt;= index
      invariant forall k :: 0 &lt;= k &lt; index &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      if a[index] == 0 { return; }
      index := index + a[index];
   }
   index := -1;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>è¿™æ®µä»£ç å°†è®¡ç®—å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œä½†æ˜¯Dafnyåœ¨ç¬¬äºŒä¸ªå¾ªç¯ä¸å˜é‡æŠ¥é”™ã€‚Dafnyå¹¶ä¸è®¤ä¸ºè·³è¿‡æ‰€æœ‰è¿™äº›å…ƒç´ æ˜¯åˆç†çš„ã€‚åŸå› æ˜¯ï¼Œå‰ç½®æ¡ä»¶è¯´çš„æ˜¯ï¼šæ¯ä¸ªè¿ç»­çš„å…ƒç´ æœ€å¤šå‡ä¸€ï¼Œä½†å®ƒæ²¡æœ‰è¯´é—´éš”æ›´è¿œçš„å…ƒç´ æ˜¯å¦‚ä½•å…³è”çš„ã€‚ä¸ºäº†è®©Dafnyç›¸ä¿¡è¿™äº‹å®ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å¼•ç†ã€‚</p> <h2 id="å¼•ç†"><a href="#å¼•ç†" class="header-anchor">#</a> å¼•ç†</h2> <p>å¼•ç†å…¶å®å°±æ˜¯ä¸ªghostæ–¹æ³•ã€‚å¼•ç†(æ›´å‡†ç¡®åœ°è¯´ï¼Œå¼•ç†çš„ç»“è®º)æ‰€è¦æ±‚çš„æ€§è´¨è¢«å£°æ˜ä¸ºåç½®æ¡ä»¶ï¼Œå°±åƒåœ¨æ™®é€šæ–¹æ³•å£°æ˜çš„ä¸€æ ·ã€‚ä¸æ–¹æ³•ä¸åŒï¼Œå¼•ç†æ°¸è¿œä¸ä¼šè¢«æ”¹å˜çŠ¶æ€ã€‚å› ä¸ºå¼•ç†æ˜¯ghostæ–¹æ³•ï¼Œæ‰€ä»¥ä¸éœ€è¦åœ¨è¿è¡Œæ—¶è°ƒç”¨å®ƒï¼Œæ‰€ä»¥ç¼–è¯‘å™¨åœ¨ç”Ÿæˆå¯æ‰§è¡Œä»£ç ä¹‹å‰ä¼šåˆ é™¤ã€æ— è§†å®ƒã€‚å› æ­¤ï¼Œå¼•ç†çš„å­˜åœ¨ä»…ä»…æ˜¯å› ä¸ºå®ƒå¯¹ç¨‹åºéªŒè¯æœ‰ä¸€å®šä½œç”¨ã€‚ä¸€ä¸ªå…¸å‹çš„å¼•ç†é•¿è¿™æ ·çš„:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma Lemma(...)
   ensures (desirable property)
{
   ...
}				
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¯¹äºé›¶æœç´¢é—®é¢˜ï¼Œç†æƒ³çš„æ€§è´¨æ˜¯åœ¨<code>index + a[index]</code>ä¹‹å‰ï¼Œindexä¸­çš„å…ƒç´ éƒ½ä¸èƒ½ä¸ºé›¶ã€‚æŒ‰ç…§<code>FindZero</code>çš„<code>requierments</code>ï¼Œæˆ‘ä»¬å°†æ•°ç»„å’Œèµ·å§‹ç´¢å¼•ä½œä¸ºå‚æ•°:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma SkippingLemma(a: array&lt;int&gt;, j: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   requires 0 &lt;= j &lt; a.Length
   ensures forall i :: j &lt;= i &lt; j + a[j] &amp;&amp; i &lt; a.Length ==&gt; a[i] != 0
{
   //...
}
lemma SkippingLemma(a: array&lt;int&gt;, j: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   requires 0 &lt;= j &lt; a.Length
   ensures forall i :: j &lt;= i &lt; j + a[j] &amp;&amp; i &lt; a.Length ==&gt; a[i] != 0
{
   ...
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>åç½®æ¡ä»¶å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å±æ€§ã€‚<code>i</code>æœ‰é¢å¤–é™åˆ¶æ˜¯å› ä¸º<code>j + a[j]</code>å¯èƒ½è¶…è¿‡äº†æ•°ç»„çš„æœ«å°¾ã€‚æˆ‘ä»¬åªæƒ³è®¨è®ºè¿™ä¸ªèŒƒå›´å†…çš„ä¸‹æ ‡ä¹Ÿå°±æ˜¯æ•°ç»„ä¸­çš„ä¸‹æ ‡ã€‚ç„¶åæˆ‘ä»¬åšäº†ä¸€ä¸ªå…³é”®çš„æ­¥éª¤:æ£€æŸ¥æˆ‘ä»¬çš„å¼•ç†æ˜¯å¦è¶³ä»¥è¯æ˜å¾ªç¯ä¸å˜é‡ã€‚é€šè¿‡åœ¨å¡«å……å¼•ç†ä½“ä¹‹å‰è¿›è¡Œæ£€æŸ¥ï¼Œæˆ‘ä»¬ç¡®ä¿æˆ‘ä»¬è¯•å›¾è¯æ˜çš„æ˜¯æ­£ç¡®çš„ä¸œè¥¿ã€‚<code>FindZero</code>æ–¹æ³•å˜æˆ:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma SkippingLemma(a: array&lt;int&gt;, j: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   requires 0 &lt;= j &lt; a.Length
   ensures forall i :: j &lt;= i &lt; j + a[j] &amp;&amp; i &lt; a.Length ==&gt; a[i] != 0
{
   //...
}
method FindZero(a: array&lt;int&gt;) returns (index: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   ensures index &lt; 0  ==&gt; forall i :: 0 &lt;= i &lt; a.Length ==&gt; a[i] != 0
   ensures 0 &lt;= index ==&gt; index &lt; a.Length &amp;&amp; a[index] == 0
{
   index := 0;
   while index &lt; a.Length
      invariant 0 &lt;= index
      invariant forall k :: 0 &lt;= k &lt; index &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      if a[index] == 0 { return; }
      SkippingLemma(a, index);
      index := index + a[index];
   }
   index := -1;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language-dafmy line-numbers-mode"><pre class="language-text"><code>   index := 0;
   while index &lt; a.Length
      invariant 0 &lt;= index
      invariant forall k :: 0 &lt;= k &lt; index &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      if a[index] == 0 { return; }
      SkippingLemma(a, index);
      index := index + a[index];
   }
   index := -1;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ç°åœ¨ï¼ŒDafnyæ²¡æœ‰æŠ¥é”™<code>FindZero</code>æ–¹æ³•ï¼Œå› ä¸ºå¼•ç†çš„åç½®æ¡ä»¶æ˜¾ç¤ºå¾ªç¯ä¸å˜å¼è¢«ä¿ç•™äº†ã€‚ä½†å®ƒå¯¹å¼•ç†æœ¬èº«æŠ¥é”™ï¼Œè¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºä¸»ä½“æ˜¯ç©ºçš„ã€‚ä¸ºäº†è®©Dafnyæ¥å—å¼•ç†ï¼Œæˆ‘ä»¬å¿…é¡»è¯æ˜åç½®æ¡ä»¶ä¸ºçœŸã€‚å°±åƒæˆ‘ä»¬åœ¨Dafnyä¸­åšçš„æ‰€æœ‰äº‹æƒ…ä¸€æ ·:ç¼–å†™ä»£ç ã€‚</p> <p>æˆ‘ä»¬ä»æ•°ç»„çš„å…³é”®å±æ€§å¼€å§‹ï¼Œå› ä¸ºé›¶æœç´¢é—®é¢˜ä¸­çš„å…ƒç´ éƒ½åªä¼šç¼“æ…¢ä¸‹é™ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨æ–­è¨€æ¥è¯¢é—®æŸäº›å±æ€§æ˜¯å¦å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°DafnyçŸ¥é“:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma SkippingLemma(a: array&lt;int&gt;, j: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   requires 0 &lt;= j &lt; a.Length - 3
   // Note: the above has been changed so that the array indices below are good.
{
   assert a[j  ] - 1 &lt;= a[j+1];
   assert a[j+1] - 1 &lt;= a[j+2];
   assert a[j+2] - 1 &lt;= a[j+3];
   // therefore:
   assert a[j  ] - 3 &lt;= a[j+3];
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>   assert a[j  ] - 1 &lt;= a[j+1];
   assert a[j+1] - 1 &lt;= a[j+2];
   assert a[j+2] - 1 &lt;= a[j+3];
   // therefore:
   assert a[j  ] - 3 &lt;= a[j+3];
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒDafnyå¯ä»¥è·Ÿéšä»»ä½•å•ç‹¬çš„æ­¥éª¤ï¼Œç”šè‡³å¯ä»¥é€‚å½“åœ°é“¾ã€‚ä½†æ˜¯æˆ‘ä»¬éœ€è¦çš„æ­¥æ•°ä¸æ˜¯æ’å®šçš„:å®ƒå¯èƒ½å–å†³äº<code>a[j]</code>çš„å€¼ã€‚ä½†æ˜¯æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ªç”¨äºå¤„ç†å¯å˜æ•°é‡æ­¥éª¤çš„æ„é€ :whileå¾ªç¯!</p> <p>æˆ‘ä»¬å¯ä»¥ç”¨åŒæ ·çš„ç»“æ„è®©DafnyæŠŠæ­¥éª¤è¿åœ¨ä¸€èµ·ã€‚æˆ‘ä»¬æƒ³è¦ä»<code>j</code>è¿­ä»£åˆ°<code>j + a[j]</code>ï¼ŒåŒæ—¶è·Ÿè¸ªä¸‹ç•Œã€‚æˆ‘ä»¬è¿˜ä¼šè·Ÿè¸ªåˆ°æˆ‘ä»¬ç›®å‰çœ‹åˆ°çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸ä¸ºé›¶çš„äº‹å®:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma SkippingLemma(a: array&lt;int&gt;, j: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   requires 0 &lt;= j &lt; a.Length
   ensures forall k :: j &lt;= k &lt; j + a[j] &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
{
   var i := j;
   while i &lt; j + a[j] &amp;&amp; i &lt; a.Length
      invariant i &lt; a.Length ==&gt; a[j] - (i-j) &lt;= a[i]
      invariant forall k :: j &lt;= k &lt; i &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      i := i + 1;
   }
}
method FindZero(a: array&lt;int&gt;) returns (index: int)
   requires forall i :: 0 &lt;= i &lt; a.Length ==&gt; 0 &lt;= a[i]
   requires forall i :: 0 &lt; i &lt; a.Length ==&gt; a[i-1]-1 &lt;= a[i]
   ensures index &lt; 0  ==&gt; forall i :: 0 &lt;= i &lt; a.Length ==&gt; a[i] != 0
   ensures 0 &lt;= index ==&gt; index &lt; a.Length &amp;&amp; a[index] == 0
{
   index := 0;
   while index &lt; a.Length
      invariant 0 &lt;= index
      invariant forall k :: 0 &lt;= k &lt; index &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      if a[index] == 0 { return; }
      SkippingLemma(a, index);
      index := index + a[index];
   }
   index := -1;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>   var i := j;
   while i &lt; j + a[j] &amp;&amp; i &lt; a.Length
      invariant i &lt; a.Length ==&gt; a[j] - (i-j) &lt;= a[i]
      invariant forall k :: j &lt;= k &lt; i &amp;&amp; k &lt; a.Length ==&gt; a[k] != 0
   {
      i := i + 1;
   }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ç¬¬ä¸€ä¸ªä¸å˜å¼ç»™å‡ºå½“å‰å…ƒç´ çš„è¾¹ç•Œï¼Œå¦‚æœæˆ‘ä»¬è¿˜æ²¡æœ‰è·‘åˆ°æ•°ç»„çš„æœ«å°¾ã€‚å¯¹äºè¶…è¿‡<code>j</code>çš„æ¯ä¸€ä¸ªç´¢å¼•(å…¶ä¸­æœ‰<code>i-j</code>)ï¼Œæ•°ç»„å…ƒç´ å¯ä»¥å°ä¸€ï¼Œå› æ­¤ä»<code>a[j]</code>ä¸­å‡å»è¿™ä¸ªå€¼ã€‚è¿™åªæ˜¯è¯´å½“å‰å…ƒç´ ä¸èƒ½ä¸ºé›¶ï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªä¸å˜é‡ï¼ŒDafnyå°±ä¸èƒ½çŸ¥é“æ•°ç»„é‡Œæ²¡æœ‰é›¶ã€‚Dafnyå¿˜è®°äº†å¾ªç¯æ‰§è¡Œçš„æ‰€æœ‰å†…å®¹ï¼Œé™¤äº†åœ¨ä¸å˜é‡ä¸­ç»™å‡ºçš„å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å»ºç«‹è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä»»ä½•åœ°æ–¹éƒ½æ²¡æœ‰é›¶ã€‚
å¾ªç¯ä½“åªæ˜¯ä½¿è®¡æ•°å™¨åŠ 1ã€‚æ­£å¦‚æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ï¼ŒDafnyèƒ½å¤Ÿè‡ªå·±è®¡ç®—å‡ºæ¯ä¸€æ­¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦åšä»»ä½•è¿›ä¸€æ­¥çš„æ“ä½œã€‚æˆ‘ä»¬åªéœ€è¦ç»™å®ƒä¸€ä¸ªéœ€è¦è¯æ˜çš„ç»“æ„ã€‚æœ‰æ—¶ï¼Œå•ä¸ªæ­¥éª¤æœ¬èº«å°±è¶³å¤Ÿå¤æ‚åˆ°å®ƒä»¬éœ€è¦è‡ªå·±çš„å­è¯æ˜ï¼Œé€šè¿‡ä½¿ç”¨ä¸€ç³»åˆ—æ–­è¨€è¯­å¥æˆ–æ•´ä¸ªå…¶ä»–å¼•ç†ã€‚</p> <p>åœ¨ä½¿ç”¨æ•°ç»„æ—¶ï¼Œè¿­ä»£æ˜¯è®¸å¤šé—®é¢˜çš„è‡ªç„¶è§£å†³æ–¹æ¡ˆã€‚ä½†æ˜¯ï¼Œæœ‰æ—¶ä¼šä½¿ç”¨é€’å½’æ¥å®šä¹‰å‡½æ•°æˆ–å±æ€§ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œå¼•ç†é€šå¸¸å…·æœ‰ç›¸åŒçš„é€’å½’ç»“æ„ã€‚ä¸ºäº†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†è€ƒè™‘è®¡æ•°çš„é—®é¢˜ã€‚</p> <h2 id="è®¡æ•°"><a href="#è®¡æ•°" class="header-anchor">#</a> è®¡æ•°</h2> <p>æˆ‘ä»¬å°†ä½¿ç”¨<code>count</code>å‡½æ•°åœ¨ä¸€ä¸ª<code>bool</code>åºåˆ—ä¸­è®¡ç®—<code>true</code>çš„æ•°é‡ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
method m()
{
   assert count([]) == 0;
   assert count([true]) == 1;
   assert count([false]) == 0;
   assert count([true, true]) == 2;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
...
   assert count([]) == 0;
   assert count([true]) == 1;
   assert count([false]) == 0;
   assert count([true, true]) == 2;
...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ä»£ç éå¸¸ç®€å•ï¼Œä½†éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œè¯¥å‡½æ•°æ˜¯é€’å½’å®šä¹‰çš„ã€‚åƒè¿™æ ·çš„é€’å½’å‡½æ•°å¾ˆå®¹æ˜“éœ€è¦å¼•ç†ã€‚æˆ‘ä»¬å¸Œæœ›åœ¨éªŒè¯ä½¿ç”¨æ­¤å‡½æ•°çš„ç¨‹åºæ—¶èƒ½å¤Ÿä½¿ç”¨countçš„ä¸€ä¸ªå±æ€§:å®ƒåº”ç”¨äºåŠ æ³•ä¸Šã€‚æˆ‘ä»¬çš„æ„æ€æ˜¯:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>forall a, b :: count(a + b) == count(a) + count(b)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿™é‡Œï¼Œç¬¬ä¸€ä¸ªåŠ å·(+)æ˜¯åºåˆ—æ‹¼æ¥ï¼Œç¬¬äºŒä¸ªåŠ å·æ˜¯æ•´æ•°ç›¸åŠ ã€‚æ˜¾ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä»»æ„åºåˆ—åˆ†è§£ä¸ºä¸¤ä¸ªåºåˆ—<code>a</code>å’Œ<code>b</code>ï¼Œåˆ†åˆ«è®¡ç®—å®ƒä»¬ï¼Œå¹¶å°†ç»“æœç›¸åŠ ã€‚è¿™æ˜¯äº‹å®ï¼Œä½†Dafnyæ— æ³•ç›´æ¥è¯æ˜ã€‚é—®é¢˜æ˜¯å‡½æ•°å¹¶æ²¡æœ‰ä»¥è¿™ç§æ–¹å¼åˆ†å‰²åºåˆ—ã€‚è¯¥å‡½æ•°å–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè®¡ç®—å…¶è®¡æ•°ï¼Œç„¶åå°†å…¶æ·»åŠ åˆ°åºåˆ—çš„å…¶ä½™éƒ¨åˆ†ã€‚å¦‚æœ<code>a</code>å¾ˆé•¿ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå±•å¼€è¿‡ç¨‹å®é™…åˆ°è¾¾<code>count(b)</code>ä¹‹å‰å¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ï¼Œå› æ­¤Dafnyåªå°è¯•å±•å¼€å‡ ä¸ªé€’å½’è°ƒç”¨ã€‚(ç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯ä¸¤ä¸ªã€‚å‚è§Amin, Leino, and Rompfçš„è®ºæ–‡Computing with an SMT solver, TAP 2014ã€‚)è¿™æ˜¯ä¸€ä¸ªéœ€è¦å¼•ç†æ¥è¯æ˜çš„æ€§è´¨çš„ä¾‹å­ã€‚</p> <p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­,æˆ‘ä»¬æœ‰ä¸¤ä¸ªé€‰æ‹©å¼•ç†:æˆ‘ä»¬ä¹Ÿå¯ä»¥å†™å…¨ç§°é‡è¯,æˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿å¼•ç†ç‰¹å®šåºåˆ—<code>a</code>å’Œ<code>b</code>ã€‚äº‹å®è¯æ˜,å½“æˆ‘ä»¬æƒ³è¦åˆ†é…å¾‹,æˆ‘ä»¬ä¸éœ€è¦å®Œæ•´çš„é€šç”¨å±æ€§ã€‚æˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯ï¼Œå¯¹äºç¨‹åºä¸­å·²çŸ¥çš„ä¸¤ä¸ªç‰¹å®šçš„<code>a</code>å’Œ<code>b</code>, <code>count(a + b) == count(a) + count(b)</code>ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å¼•ç†æ¥å¾—åˆ°è¿™ä¸ªæ€§è´¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å‘Šè¯‰å®ƒæˆ‘ä»¬æ„Ÿå…´è¶£çš„æ˜¯å“ªä¸¤ä¸ªåºåˆ—ã€‚å¦‚æœæˆ‘ä»¬åœ¨å…¶ä»–åœ°æ–¹æœ‰ä¸åŒçš„åºåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„å‚æ•°è°ƒç”¨æ–¹æ³•ï¼Œå°±åƒæ™®é€šæ–¹æ³•ä¸€æ ·ã€‚äº‹å®è¯æ˜ï¼Œè¯æ˜å®Œæ•´çš„å…¨ç§°æ€§è´¨ï¼Œè™½ç„¶æ˜¯å¯èƒ½çš„ï¼Œä½†æ¯”è¯æ˜å…·ä½“çš„ï¼Œå…·ä½“çš„æƒ…å†µè¦å¤æ‚å¾—å¤šï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥å¤„ç†è¿™ä¸ªæƒ…å†µã€‚</p> <p>å› æ­¤å¼•ç†åº”è¯¥å°†æ„Ÿå…´è¶£çš„åºåˆ—ä½œä¸ºå‚æ•°ï¼Œåç½®æ¡ä»¶å¦‚ä¸‹:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DistributiveLemma(a: seq&lt;bool&gt;, b: seq&lt;bool&gt;)
   ensures count(a + b) == count(a) + count(b)
{
}
function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DistributiveLemma(a: seq&lt;bool&gt;, b: seq&lt;bool&gt;)
   ensures count(a + b) == count(a) + count(b)
{
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="è¯æ˜åˆ†é…æ€§è´¨"><a href="#è¯æ˜åˆ†é…æ€§è´¨" class="header-anchor">#</a> è¯æ˜åˆ†é…æ€§è´¨</h2> <p>ä¸ºäº†å†™å‡ºå¼•ç†ï¼Œæˆ‘ä»¬å¿…é¡»æƒ³å‡ºä¸€ä¸ªè¯æ˜å®ƒçš„æ–¹æ³•ã€‚æ­£å¦‚æ‚¨å¯ä»¥åœ¨ä¸Šé¢éªŒè¯çš„(æ²¡æœ‰åŒå…³è¯­)ï¼Œå¼•ç†è¿˜ä¸èƒ½å·¥ä½œï¼Œå¦åˆ™å¼•ç†å°†æ˜¯ä¸å¿…è¦çš„ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°Dafnyæ— æ³•é¦–å…ˆè¯æ˜è¿™ä¸€ç‚¹çš„åŸå› æ˜¯<code>count</code>å‡½æ•°ä»åºåˆ—çš„å¼€å§‹å®šä¹‰ï¼Œè€Œåˆ†é…å¾‹åˆ™åœ¨åºåˆ—çš„ä¸­é—´æ“ä½œã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æ‰¾åˆ°ä¸€ç§ä»åºåˆ—çš„å‰é¢å¼€å§‹å·¥ä½œçš„æ–¹æ³•ï¼Œé‚£ä¹ˆDafnyå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å‡½æ•°çš„å®šä¹‰ã€‚è¿™ä¸ªåºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä»€ä¹ˆ?åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œ<code>a</code>å’Œ<code>b</code>æ˜¯ç©ºåºåˆ—(å¦‚æœæœ‰çš„è¯)ã€‚å› æ­¤æˆ‘ä»¬çš„å¼•ç†å¿…é¡»è€ƒè™‘å¤šç§æƒ…å†µï¼Œå¼•ç†çš„å…±åŒç‰¹å¾ã€‚æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå¦‚æœ<code>a ==[]</code>ï¼Œé‚£ä¹ˆ<code>a+ b == b</code>ï¼Œä¸ç®¡<code>b</code>æ˜¯å¤šå°‘ã€‚å¼•ç†å¤„ç†æƒ…å†µçš„æ–¹å¼ä¸ä»£ç å¤„ç†æƒ…å†µçš„æ–¹å¼ç›¸åŒ:ifè¯­å¥ã€‚ä¸‹é¢ä½¿ç”¨æ–­è¨€ç»™å‡ºäº†æ‰€éœ€å±æ€§çš„ç®€çŸ­è¯æ˜ã€‚</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DistributiveLemma(a: seq&lt;bool&gt;, b: seq&lt;bool&gt;)
   ensures count(a + b) == count(a) + count(b)
{
   if a == []
   {
      assert a + b == b;
      assert count(a) == 0;
      assert count(a + b) == count(b);
      assert count(a + b) == count(a) + count(b);
   }
   else
   {
      //...
   }
}
function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>if a == []
{
   assert a + b == b;
   assert count(a) == 0;
   assert count(a + b) == count(b);
   assert count(a + b) == count(a) + count(b);
}
else
{
   ...
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ª<code>requires</code>å­å¥æ¥æ£€éªŒå¼•ç†ã€‚æˆ‘ä»¬å‘ç°ä»£ç éªŒè¯ã€‚è¿™æ„å‘³ç€å¦‚æœ<code>a ==[]</code>ï¼Œåˆ™å¼•ç†å°†æ­£ç¡®åœ°è¯æ˜åç½®æ¡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªéœ€è¦ä¸Šé¢çš„ç¬¬ä¸€ä¸ªæ–­è¨€;Dafnyè‡ªå·±å®Œæˆäº†å‰©ä¸‹çš„æ­¥éª¤(è¯•è¯•å§!)ç°åœ¨æˆ‘ä»¬å¯ä»¥è€ƒè™‘å¦ä¸€ç§æƒ…å†µï¼Œå½“<code>0 &lt; |a|</code>ã€‚</p> <p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯å°†<code>count(a + b)</code>ä¸<code>count(a)</code>å’Œ<code>count(b)</code>è”ç³»èµ·æ¥ã€‚å¦‚æœaä¸æ˜¯ç©ºåºåˆ—ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æŒ‰ç…§å®šä¹‰å±•å¼€<code>count(a + b)</code>æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
method m2(a: seq&lt;bool&gt;, b:seq&lt;bool&gt;)
   requires |a| &gt; 0
{
   assert a + b == [a[0]] + (a[1..] + b);
   assert count(a + b) == count([a[0]]) + count(a[1..] + b);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>assert a + b == [a[0]] + (a[1..] + b);
assert count(a + b) == count([a[0]]) + count(a[1..] + b);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>æ³¨æ„ï¼Œæˆ‘ä»¬å¾—åˆ°<code>count([a[0]])</code>å’Œ<code>a[1..]</code>ã€‚å¦‚æœæˆ‘ä»¬æ‰©å±•<code>count(a)</code>ï¼Œè¿™ä¸¤é¡¹ä¹Ÿä¼šå‡ºç°ã€‚å…·ä½“åœ°è¯´:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>method m2(a: seq&lt;bool&gt;, b:seq&lt;bool&gt;)
   requires |a| &gt; 0
{
   assert count(a) == count([a[0]]) + count(a[1..]);
}
function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>assert count(a) == count([a[0]]) + count(a[1..]);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥å°†<code>count(a)</code>çš„å®šä¹‰æ›¿æ¢ä¸ºåç½®æ¡ä»¶ï¼Œä»¥è·å¾—:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>assert count(a + b) == count(a) + count(b); // postcondition
assert count(a + b) == count([a[0]]) + count(a[1..]) + count(b);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ç°åœ¨è¿™çœ‹èµ·æ¥å¾ˆåƒæˆ‘ä»¬å±•å¼€<code>count(a + b)</code>åå¾—åˆ°çš„è¡¨è¾¾å¼ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯<code>count(a[1.. .) + count(a[1..]) + count(b)</code>ã€‚ä½†è¿™æ­£æ˜¯æˆ‘ä»¬è¦è¯æ˜çš„æ€§è´¨!</p> <h2 id="å½’çº³"><a href="#å½’çº³" class="header-anchor">#</a> å½’çº³</h2> <p>æˆ‘ä»¬è¯•å›¾æå‡ºçš„è®ºç‚¹æ˜¯å½’çº³çš„ã€‚æˆ‘ä»¬å¯ä»¥è¯æ˜æˆ‘ä»¬çš„ç›®æ ‡ï¼Œåªè¦è¿™ä¸ªé—®é¢˜çš„ä¸€ä¸ªå°ç‰ˆæœ¬æ˜¯æ­£ç¡®çš„ã€‚è¿™æ­£æ˜¯å½’çº³æ³•çš„æ¦‚å¿µ:ç”¨ä¸€ä¸ªå°é—®é¢˜æ¥è¯æ˜ä¸€ä¸ªå¤§é—®é¢˜ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨ä»£ç ä¸­è°ƒç”¨é€’å½’å±æ€§ã€‚å®ƒæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦å®ƒçš„æ—¶å€™è°ƒç”¨å®ƒã€‚</p> <p>Dafnyå°†å‡å®šé€’å½’è°ƒç”¨æ»¡è¶³è§„èŒƒã€‚è¿™å°±æ˜¯å½’çº³å‡è®¾ï¼Œæ‰€æœ‰å¼•ç†çš„é€’å½’è°ƒç”¨éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚è¿™å…³é”®å–å†³äºDafnyä¹Ÿè¯æ˜äº†ç»ˆæ­¢ã€‚è¿™æ„å‘³ç€æœ€ç»ˆï¼Œå¼•ç†ä¸ä¼šå†è¿›è¡Œé€’å½’è°ƒç”¨ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™æ˜¯ifè¯­å¥çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ã€‚å¦‚æœæ²¡æœ‰é€’å½’è°ƒç”¨ï¼Œé‚£ä¹ˆå¼•ç†å¿…é¡»ç›´æ¥è¯æ˜è¿™ç§æƒ…å†µã€‚ç„¶åï¼Œå †æ ˆä¸­çš„æ¯ä¸ªè°ƒç”¨éƒ½æ˜¯åˆç†çš„ï¼Œå‡è®¾å¼•ç†é€‚ç”¨äºè¾ƒå°çš„æƒ…å†µã€‚å¦‚æœDafnyæ²¡æœ‰è¯æ˜é“¾ç»ˆæ­¢ï¼Œé‚£ä¹ˆé“¾å¯ä»¥æ°¸è¿œç»§ç»­ï¼Œå¹¶ä¸”å¯¹äºæ¯ä¸ªè°ƒç”¨çš„å‡è®¾éƒ½æ˜¯ä¸åˆç†çš„ã€‚</p> <p>å½’çº³æ³•é€šå¸¸æ˜¯å¯»æ‰¾ä¸€ç§æ–¹æ³•ï¼Œä¸€æ­¥ä¸€æ­¥åœ°å»ºç«‹ä½ çš„ç›®æ ‡ã€‚ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼Œå®ƒè¯æ˜äº†ä½ çš„ç›®æ ‡æ˜¯ä¸€ä¸ªæ›´å°çš„ç‰ˆæœ¬ã€‚é€šè¿‡ä¸€æ¬¡åˆ†è§£ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªåºåˆ—å®Œå…¨æ¶ˆå¤±ï¼Œè¯æ˜äº†åˆ†é…å¼•ç†ã€‚è¿™ç§æƒ…å†µè¢«è¯æ˜æ˜¯ä¸€ä¸ªåŸºæœ¬æƒ…å†µï¼Œç„¶åæ•´ä¸ªé“¾çš„è§£æ„è¢«éªŒè¯ã€‚</p> <p>æˆåŠŸçš„å…³é”®æ˜¯Dafnyä»æ¥ä¸ç”¨è€ƒè™‘æ•´ä¸ªé€šè¯é“¾ã€‚é€šè¿‡æ£€éªŒç»ˆæ­¢ï¼Œå¾—åˆ°é“¾æ˜¯æœ‰é™çš„ã€‚ç„¶åå®ƒè¦åšçš„å°±æ˜¯æ£€æŸ¥ä¸€æ­¥ã€‚å¦‚æœä»»æ„ä¸€æ­¥æ˜¯æœ‰æ•ˆçš„ï¼Œé‚£ä¹ˆæ•´ä¸ªé“¾ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚è¿™ä¸Dafnyåœ¨å¾ªç¯ä¸­ä½¿ç”¨çš„é€»è¾‘ç›¸åŒ:æ£€æŸ¥åˆå§‹ä¸å˜é¡¹æ˜¯å¦æˆç«‹ï¼Œä»»æ„ä¸€ä¸ªæ­¥éª¤æ˜¯å¦ä¿æŒä¸å˜ï¼Œç„¶åæ£€æŸ¥æ•´ä¸ªå¾ªç¯ï¼Œä¸ç®¡å¾ªç¯å¾ªç¯äº†å¤šå°‘æ¬¡ã€‚è¿™ç§ç›¸ä¼¼æ€§ä¸ä»…ä»…æ˜¯è¡¨é¢çš„ã€‚è¿™ä¸¤ç§å¼•ç†(ä»¥åŠDafnyå¯¹ç¨‹åºçš„ä¸¤ç§æ¨ç†)éƒ½æ˜¯å½’çº³çš„ã€‚è€ƒè™‘åˆ°è¿­ä»£å’Œé€’å½’ä½œä¸ºå®ç°åŒä¸€ç›®æ ‡çš„ä¸¤ç§æ–¹æ³•ä¹‹é—´çš„å…³ç³»ï¼Œè¿™ä¹Ÿä¸è¶³ä¸ºå¥‡ã€‚</p> <p>è®°ä½è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ifè¯­å¥çš„elseåˆ†æ”¯ä¸­é€’å½’åœ°è°ƒç”¨å¼•ç†æ¥å®Œæˆå¼•ç†:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DistributiveLemma(a: seq&lt;bool&gt;, b: seq&lt;bool&gt;)
   ensures count(a + b) == count(a) + count(b)
{
   if a == []
   {
      assert a + b == b;
   }
   else
   {
      DistributiveLemma(a[1..], b);
      assert a + b == [a[0]] + (a[1..] + b);
   }
}
function count(a: seq&lt;bool&gt;): nat
{
   if |a| == 0 then 0 else
   (if a[0] then 1 else 0) + count(a[1..])
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>  if a == []
   {
      assert a + b == b;
   }
   else
   {
      DistributiveLemma(a[1..], b);
      assert a + b == [a[0]] + (a[1..] + b);
   }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>ç°åœ¨è¿™ä¸ªå¼•ç†å¾—åˆ°äº†éªŒè¯ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æƒ³è¦è¡¨è¾¾æ¯ä¸€å¯¹åºåˆ—éƒ½æ˜¯è¿™æ ·è”ç³»çš„å‘¢?ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¿…é¡»çœ‹çœ‹å¼•ç†åœ¨Dafnyä¸­çš„å¦ä¸€ç§ç”¨æ³•ï¼Œæˆ‘ä»¬å°†ç”¨å¦ä¸€ä¸ªä¾‹å­æ¥æ¢ç´¢ã€‚</p> <h2 id="æœ‰å‘å›¾çš„è·¯å¾„"><a href="#æœ‰å‘å›¾çš„è·¯å¾„" class="header-anchor">#</a> æœ‰å‘å›¾çš„è·¯å¾„</h2> <p>ä½œä¸ºæœ€åä¸€ä¸ªæ›´é«˜çº§çš„ä¾‹å­ï¼Œæˆ‘ä»¬å°†è¯æ˜ä¸€ä¸ªå…³äºæœ‰å‘å›¾ä¸­è·¯å¾„çš„æ€§è´¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æœ‰æœºä¼šç§°ä¸€ä¸ªå¼•ç†åœ¨æ‰€æœ‰èŠ‚ç‚¹åºåˆ—ä¸Šæ˜¯æ™®éçš„ã€‚ä¸€ä¸ªæœ‰å‘å›¾ç”±è‹¥å¹²ä¸ªèŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€äº›åˆ°å…¶ä»–èŠ‚ç‚¹çš„é“¾æ¥ã€‚è¿™äº›é“¾æ¥æ˜¯å•å‘çš„ï¼Œå¯¹å®ƒä»¬çš„å”¯ä¸€é™åˆ¶æ˜¯èŠ‚ç‚¹ä¸èƒ½é“¾æ¥åˆ°è‡ªå·±ã€‚èŠ‚ç‚¹å®šä¹‰ä¸º:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>class Node
{
   // a single field giving the nodes linked to
   var next: seq&lt;Node&gt;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>æˆ‘ä»¬å°†å›¾è¡¨ç¤ºä¸ºä¸€ç»„èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹åªæŒ‡å‘å›¾ä¸­çš„å…¶ä»–èŠ‚ç‚¹ï¼Œè€Œä¸æŒ‡å‘è‡ªå·±ã€‚æˆ‘ä»¬ç§°è¿™æ ·ä¸€ç»„èŠ‚ç‚¹ä¸ºå°é—­çš„:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>predicate closed(graph: set&lt;Node&gt;)
   reads graph
{
   forall i :: i in graph ==&gt;
      forall k :: 0 &lt;= k &lt; |i.next| ==&gt; i.next[k] in graph &amp;&amp; i.next[k] != i
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æˆ‘ä»¬å°†è·¯å¾„è¡¨ç¤ºä¸ºéç©ºèŠ‚ç‚¹åºåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¸è·¯å¾„ä¸­çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ç›¸è¿ã€‚æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªè°“è¯ï¼Œä¸€ä¸ªç”¨äºå®šä¹‰æœ‰æ•ˆè·¯å¾„ï¼Œå¦ä¸€ä¸ªç”¨äºç¡®å®šç»™å®šè·¯å¾„æ˜¯å¦ä¸ºå›¾ä¸­ä¸¤ä¸ªç‰¹å®šèŠ‚ç‚¹ä¹‹é—´çš„æœ‰æ•ˆè·¯å¾„:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>predicate pathSpecific(p: seq&lt;Node&gt;, start: Node, end: Node, graph: set&lt;Node&gt;)
   requires closed(graph)
   reads graph
{
   0 &lt; |p| &amp;&amp; // path is nonempty
   start == p[0] &amp;&amp; end == p[|p|-1] &amp;&amp; // it starts and ends correctly
   path(p, graph) // and it is a valid path
}
predicate path(p: seq&lt;Node&gt;, graph: set&lt;Node&gt;)
   requires closed(graph) &amp;&amp; 0 &lt; |p|
   reads graph
{
   p[0] in graph &amp;&amp;
   (|p| &gt; 1 ==&gt; p[1] in p[0].next &amp;&amp; // the first link is valid, if it exists
      path(p[1..], graph)) // and the rest of the sequence is a valid
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>ç°åœ¨æˆ‘ä»¬å‡†å¤‡å¥½é™ˆè¿°æˆ‘ä»¬è¦è¯æ˜çš„å¼•ç†äº†ã€‚æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªå›¾å’Œä¸€ä¸ªå­å›¾:ä¸€ä¸ªä¹Ÿæ„æˆä¸€ä¸ªå›¾çš„èŠ‚ç‚¹çš„å­é›†ã€‚è¿™ä¸ªå­å›¾å¿…é¡»æ˜¯å°é—­çš„ï¼Œå³ä¸åŒ…å«è‡ªèº«ä¹‹å¤–çš„é“¾æ¥ã€‚å¦‚æœæˆ‘ä»¬æœ‰è¿™æ ·çš„æƒ…å†µï¼Œé‚£ä¹ˆä»å­å›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹åˆ°å­å›¾ä¹‹å¤–çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸å¯èƒ½æœ‰ä¸€æ¡æœ‰æ•ˆçš„è·¯å¾„ã€‚æˆ‘ä»¬å°†è¿™ä¸ªäº‹å®ç§°ä¸ºé—­åˆå¼•ç†ï¼Œæˆ‘ä»¬åœ¨Dafnyä¸­è¿™æ ·è¡¨è¿°:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma ClosedLemma(subgraph: set&lt;Node&gt;, root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !(exists p: seq&lt;Node&gt; :: pathSpecific(p, root, goal, graph))
{
   //...
}
class Node
{
   var next: seq&lt;Node&gt;
}
predicate pathSpecific(p: seq&lt;Node&gt;, start: Node, end: Node, graph: set&lt;Node&gt;)
   requires closed(graph)
   reads graph
{
   0 &lt; |p| &amp;&amp; // path is nonempty
   start == p[0] &amp;&amp; end == p[|p|-1] &amp;&amp; // it starts and ends correctly
   path(p, graph) // and it is a valid path
}
predicate path(p: seq&lt;Node&gt;, graph: set&lt;Node&gt;)
   requires closed(graph) &amp;&amp; 0 &lt; |p|
   reads graph
{
   p[0] in graph &amp;&amp;
   (|p| &gt; 1 ==&gt; p[1] in p[0].next &amp;&amp; // the first link is valid, if it exists
      path(p[1..], graph)) // and the rest of the sequence is a valid
}
predicate closed(graph: set&lt;Node&gt;)
   reads graph
{
   forall i :: i in graph ==&gt; forall k :: 0 &lt;= k &lt; |i.next| ==&gt; i.next[k] in graph &amp;&amp; i.next[k] != i
}
lemma ClosedLemma(subgraph: set&lt;Node&gt;, root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !(exists p: seq&lt;Node&gt; :: pathSpecific(p, root, goal, graph))
{
   ...
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>å‰ææ¡ä»¶è¯´æ˜äº†æ‰€æœ‰çš„è¦æ±‚:å›¾å’Œå­å›¾éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œæ ¹èŠ‚ç‚¹åœ¨å­å›¾ä¸­ä½†ç›®æ ‡ä¸åœ¨ï¼Œæ‰€æœ‰å†…å®¹éƒ½åŒ…å«åœ¨ä¸»å›¾ä¸­ã€‚åç½®æ¡ä»¶å£°æ˜æ²¡æœ‰ä»æ ¹åˆ°ç›®æ ‡çš„æœ‰æ•ˆè·¯å¾„ã€‚è¿™é‡Œæˆ‘ä»¬åªå¯¹ç‰¹å®šçš„å¼€å§‹/ç»“æŸèŠ‚ç‚¹å¯¹è¯æ˜å®ƒã€‚</p> <p>è¯æ˜æŸç‰©ä¸å­˜åœ¨çš„ä¸€ç§æ–¹æ³•æ˜¯è¯æ˜ç»™å®šçš„ä»»æ„èŠ‚ç‚¹åºåˆ—å®ƒä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆè·¯å¾„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ï¼Œä½ çŒœå¯¹äº†ï¼Œå¦ä¸€ä¸ªå¼•ç†ã€‚è¿™ä¸ªå¼•ç†å°†è¯æ˜ï¼Œå¯¹äºä»»ä½•ç»™å®šçš„åºåˆ—ï¼Œå®ƒä¸æ˜¯ä»æ ¹<code>root</code>åˆ°ç›®æ ‡<code>goal</code>çš„æœ‰æ•ˆè·¯å¾„ã€‚è·¯å¾„å¼•ç†çš„åè¯å¦‚ä¸‹:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !pathSpecific(p, root, goal, graph)
{
}
class Node
{
   var next: seq&lt;Node&gt;
}
predicate pathSpecific(p: seq&lt;Node&gt;, start: Node, end: Node, graph: set&lt;Node&gt;)
   requires closed(graph)
   reads graph
{
   0 &lt; |p| &amp;&amp; // path is nonempty
   start == p[0] &amp;&amp; end == p[|p|-1] &amp;&amp; // it starts and ends correctly
   path(p, graph) // and it is a valid path
}
predicate path(p: seq&lt;Node&gt;, graph: set&lt;Node&gt;)
   requires closed(graph) &amp;&amp; 0 &lt; |p|
   reads graph
{
   p[0] in graph &amp;&amp;
   (|p| &gt; 1 ==&gt; p[1] in p[0].next &amp;&amp; // the first link is valid, if it exists
      path(p[1..], graph)) // and the rest of the sequence is a valid
}
predicate closed(graph: set&lt;Node&gt;)
   reads graph
{
   forall i :: i in graph ==&gt; forall k :: 0 &lt;= k &lt; |i.next| ==&gt; i.next[k] in graph &amp;&amp; i.next[k] != i
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !pathSpecific(p, root, goal, graph)
{
   ...
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å‰æä¸é—­å¼•ç†ç›¸åŒã€‚è¦åœ¨é—­å¼•ç†<code>ClosedLemma</code>ä¸­ä½¿ç”¨åè¯æ˜å¼•ç†<code>DisproofLemma</code>ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªèŠ‚ç‚¹åºåˆ—è°ƒç”¨å®ƒä¸€æ¬¡ã€‚è¿™å¯ä»¥é€šè¿‡Dafnyçš„<code>forall</code>è¯­å¥æ¥å®Œæˆï¼Œè¯¥è¯­å¥èšåˆäº†ç»™å®šç»‘å®šå˜é‡çš„æ‰€æœ‰å€¼å¯¹å…¶ä¸»ä½“çš„å½±å“ã€‚</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma ClosedLemma(subgraph: set&lt;Node&gt;, root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !(exists p: seq&lt;Node&gt; :: pathSpecific(p, root, goal, graph))
{
   forall p {
      DisproofLemma(p, subgraph, root, goal, graph);
   }
}
lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !pathSpecific(p, root, goal, graph)
{
}
class Node
{
   var next: seq&lt;Node&gt;
}
predicate pathSpecific(p: seq&lt;Node&gt;, start: Node, end: Node, graph: set&lt;Node&gt;)
   requires closed(graph)
   reads graph
{
   0 &lt; |p| &amp;&amp; // path is nonempty
   start == p[0] &amp;&amp; end == p[|p|-1] &amp;&amp; // it starts and ends correctly
   path(p, graph) // and it is a valid path
}
predicate path(p: seq&lt;Node&gt;, graph: set&lt;Node&gt;)
   requires closed(graph) &amp;&amp; 0 &lt; |p|
   reads graph
{
   p[0] in graph &amp;&amp;
   (|p| &gt; 1 ==&gt; p[1] in p[0].next &amp;&amp; // the first link is valid, if it exists
      path(p[1..], graph)) // and the rest of the sequence is a valid
}
predicate closed(graph: set&lt;Node&gt;)
   reads graph
{
   forall i :: i in graph =
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma ClosedLemma(subgraph: set&lt;Node&gt;, root: Node, goal: Node, graph: set&lt;Node&gt;)
   ...
   ensures !(exists p: seq&lt;Node&gt; :: pathSpecific(p, root, goal, graph))
{
   forall p {
      DisproofLemma(p, subgraph, root, goal, graph);
   }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>å¦‚ä½ æ‰€è§ï¼Œè¿™ä½¿å¾—é—­å¼•ç†<code>ClosedLemma</code>å¾—åˆ°éªŒè¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯¹å¼•ç†çš„æµ‹è¯•æ˜¯æˆåŠŸçš„ã€‚å› æ­¤ï¼Œåè¯æ˜å¼•ç†<code>DisproofLemma</code>æ˜¯è¶³å¤Ÿå¼ºçš„ï¼Œæˆ‘ä»¬çš„å·¥ä½œä»…ä»…æ˜¯è¯æ˜å®ƒã€‚</p> <p>æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼å¯ä»¥ä½¿èŠ‚ç‚¹åºåˆ—æˆä¸ºæ— æ•ˆè·¯å¾„ã€‚å¦‚æœè·¯å¾„ä¸ºç©ºï¼Œåˆ™å®ƒä¸èƒ½æ˜¯æœ‰æ•ˆè·¯å¾„ã€‚æ­¤å¤–ï¼Œè·¯å¾„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯æ ¹<code>root</code>ï¼Œæœ€åä¸€ä¸ªå…ƒç´ å¿…é¡»æ˜¯ç›®æ ‡<code>goal</code>ã€‚å› ä¸º<code>root in subgraph</code>ï¼Œ<code>goal !in subgraph</code>ï¼Œæˆ‘ä»¬å¿…é¡»æœ‰<code>root != goal</code>ï¼Œæ‰€ä»¥åºåˆ—å¿…é¡»è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ã€‚ä¸ºäº†éªŒè¯Dafnyæ˜¯å¦çœ‹åˆ°äº†è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸´æ—¶åœ¨å¼•ç†ä¸ŠåŠ ä¸Šå…ˆå†³æ¡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   requires |p| &lt; 2 || p[0] != root || p[|p|-1] != goal
   ensures !pathSpecific(p, root, goal, graph)
{
}
class Node
{
   var next: seq&lt;Node&gt;
}
predicate pathSpecific(p: seq&lt;Node&gt;, start: Node, end: Node, graph: set&lt;Node&gt;)
   requires closed(graph)
   reads graph
{
   0 &lt; |p| &amp;&amp; // path is nonempty
   start == p[0] &amp;&amp; end == p[|p|-1] &amp;&amp; // it starts and ends correctly
   path(p, graph) // and it is a valid path
}
predicate path(p: seq&lt;Node&gt;, graph: set&lt;Node&gt;)
   requires closed(graph) &amp;&amp; 0 &lt; |p|
   reads graph
{
   p[0] in graph &amp;&amp;
   (|p| &gt; 1 ==&gt; p[1] in p[0].next &amp;&amp; // the first link is valid, if it exists
      path(p[1..], graph)) // and the rest of the sequence is a valid
}
predicate closed(graph: set&lt;Node&gt;)
   reads graph
{
   forall i :: i in graph ==&gt; forall k :: 0 &lt;= k &lt; |i.next| ==&gt; i.next[k] in graph &amp;&amp; i.next[k] != i
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires ...  // as before
   requires |p| &lt; 2 || p[0] != root || p[|p|-1] != goal
   ...
{
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>æ³¨æ„ï¼Œè¿™å°†å¯¼è‡´é—­å¼•ç†<code>ClosedLemma</code>åœæ­¢éªŒè¯ï¼Œå› ä¸ºå¼•ç†ç°åœ¨åªå¯¹ä¸€äº›åºåˆ—æœ‰æ•ˆã€‚æˆ‘ä»¬å°†å¿½ç•¥é—­åˆå¼•ç†<code>ClosedLemma</code>ï¼Œç›´åˆ°æˆ‘ä»¬å®Œæˆåé©³å¼•ç†<code>DisproofLemma</code>ã€‚è¿™å°±è¯æ˜äº†ï¼Œè¿™æ„å‘³ç€Dafnyèƒ½å¤Ÿåœ¨è¿™äº›æƒ…å†µä¸‹è¯æ˜åç½®æ¡ä»¶ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦è¯æ˜å½“è¿™äº›æ¡ä»¶ä¸æˆç«‹æ—¶ï¼Œè·¯å¾„æ˜¯æ— æ•ˆçš„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ifè¯­å¥æ¥è¡¨è¾¾:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>   if 1 &lt; |p| &amp;&amp; p[0] == root &amp;&amp; p[|p|-1] == goal {
      (further proof)
   }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>å¦‚æœè·¯å¾„è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ é•¿ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ ¹rootå…ƒç´ ï¼Œæœ€åä¸€ä¸ªå…ƒç´ æ˜¯ç›®æ ‡goalå…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æœ‰äº†è¿›ä¸€æ­¥çš„è¯æ˜ã€‚å¦‚æœè¿™äº›æ¡ä»¶æ²¡æœ‰æ»¡è¶³(ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœifè¯­å¥çš„ä¿æŠ¤ä¸º<code>false</code>ï¼Œå¹¶ä¸”æ§åˆ¶åœ¨éšå¼elseåˆ†æ”¯ä¸­ç»§ç»­)ï¼ŒDafnyå°†è‡ªå·±è¯æ˜åç½®æ¡ä»¶(é«˜çº§å¤‡æ³¨:ä½ å¯ä»¥é€šè¿‡ä¸´æ—¶æ·»åŠ è¯­å¥<code>assume false</code>æ¥æ£€æŸ¥è¿™ä¸€ç‚¹;åœ¨ifçš„thenåˆ†æ”¯ä¸­)ã€‚ç°åœ¨æˆ‘ä»¬åªéœ€è¦å¡«å…¥è¿›ä¸€æ­¥çš„è¯æ˜éƒ¨åˆ†ã€‚åœ¨è¿™æ ·åšæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å‡å®šifè¯­å¥çš„ä¿æŠ¤æ¡ä»¶ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨å’Œä¸Šé¢ä¸€æ ·çš„å½’çº³æŠ€å·§ã€‚</p> <p>å¦‚æœåºåˆ—ä»æ ¹<code>root</code>èŠ‚ç‚¹å¼€å§‹ï¼Œå¹¶åœ¨ç›®æ ‡èŠ‚ç‚¹<code>goal</code>ç»“æŸï¼Œåˆ™å®ƒä¸èƒ½æœ‰æ•ˆï¼Œå› ä¸ºåºåˆ—å¿…é¡»åœ¨æŸä¸ªç‚¹ä¸Šæœ‰ä¸€ä¸ªä¸åœ¨å‰ä¸€ä¸ªèŠ‚ç‚¹ä¸‹ä¸€ä¸ªåˆ—è¡¨ä¸­çš„èŠ‚ç‚¹ã€‚å½“æˆ‘ä»¬å¾—åˆ°ä»»ä½•åƒè¿™æ ·çš„ç‰¹å®šåºåˆ—æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒåˆ†ä¸ºä¸¤ç§æƒ…å†µ:è¦ä¹ˆåºåˆ—åœ¨ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹çš„é“¾æ¥ä¸­æ— æ•ˆï¼Œè¦ä¹ˆå®ƒåœ¨ä¸€è¡Œä¸­çš„æŸä¸ªåœ°æ–¹è¢«æ‰“æ–­äº†ã€‚å°±åƒåœ¨è®¡æ•°ç¤ºä¾‹ä¸­ä¸€æ ·ï¼ŒDafnyå¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªåˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹é“¾æ¥æ— æ•ˆï¼Œé‚£ä¹ˆåºåˆ—å°±ä¸èƒ½æ˜¯è·¯å¾„ï¼Œå› ä¸ºè¿™åæ˜ äº†è·¯å¾„<code>path</code>çš„å®šä¹‰ã€‚å› æ­¤ï¼Œåªæœ‰å½“ç¬¬ä¸€ä¸ªé“¾æ¥æœ‰æ•ˆæ—¶ï¼Œæˆ‘ä»¬æ‰æœ‰è¿›ä¸€æ­¥çš„å·¥ä½œè¦åšã€‚æˆ‘ä»¬å¯ä»¥ç”¨å¦ä¸€ä¸ªifè¯­å¥æ¥è¡¨è¾¾:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>if 1 &lt; |p| &amp;&amp; p[0] == root &amp;&amp; p[|p|-1] == goal {
      if p[1] in p[0].next {
         (yet further proof)
      }
   }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>è¿™é‡Œæ˜¯å½’çº³<code>induction</code>ã€‚æˆ‘ä»¬çŸ¥é“<code>p[0] == root</code>, <code>p[1] in p[0].next.</code>ä¸­ã€‚æˆ‘ä»¬è¿˜ä»å­å›¾çš„æ ¹<code>root in subgraph</code>çš„å…ˆå†³æ¡ä»¶çŸ¥é“ã€‚å› æ­¤ï¼Œç”±äºé—­å­å›¾Â <code>closed(subgraph)</code>ï¼Œæˆ‘ä»¬çŸ¥é“<code>p[1] in subgraph</code>Â ã€‚è¿™äº›æ¡ä»¶å’Œæˆ‘ä»¬å¼€å§‹æ—¶æ˜¯ä¸€æ ·çš„!æˆ‘ä»¬ç°åœ¨é¢å¯¹çš„æ˜¯åŒä¸€ä¸ªé—®é¢˜çš„ä¸€ä¸ªå°ç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€’å½’åœ°è°ƒç”¨åè¯æ˜å¼•ç†<code>DisproofLemma</code>æ¥è¯æ˜<code>p[1..</code>ä¸æ˜¯ä¸€æ¡è·¯ã€‚è¿™æ„å‘³ç€ï¼Œæ ¹æ®è·¯å¾„<code>path</code>çš„å®šä¹‰ï¼Œpä¸èƒ½æ˜¯è·¯å¾„ï¼Œå¹¶ä¸”æ»¡è¶³ç¬¬äºŒä¸ªåç½®æ¡ä»¶ã€‚è¿™å¯ä»¥å®ç°ä¸º:</p> <div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !pathSpecific(p, root, goal, graph)
{
   if 1 &lt; |p| &amp;&amp; p[0] == root &amp;&amp; p[|p|-1] == goal {
      if p[1] in p[0].next {
         DisproofLemma(p[1..], subgraph, p[1], goal, graph);
      }
   }
}
lemma ClosedLemma(subgraph: set&lt;Node&gt;, root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !(exists p: seq&lt;Node&gt; :: pathSpecific(p, root, goal, graph))
{
   forall p {
      DisproofLemma(p, subgraph, root, goal, graph);
   }
}
class Node
{
   var next: seq&lt;Node&gt;
}
predicate pathSpecific(p: seq&lt;Node&gt;, start: Node, end: Node, graph: set&lt;Node&gt;)
   requires closed(graph)
   reads graph
{
   0 &lt; |p| &amp;&amp; // path is nonempty
   start == p[0] &amp;&amp; end == p[|p|-1] &amp;&amp; // it starts and ends correctly
   path(p, graph) // and it is a valid path
}
predicate path(p: seq&lt;Node&gt;, graph: set&lt;Node&gt;)
   requires closed(graph) &amp;&amp; 0 &lt; |p|
   reads graph
{
   p[0] in graph &amp;&amp;
   (|p| &gt; 1 ==&gt; p[1] in p[0].next &amp;&amp; // the first link is valid, if it exists
      path(p[1..], graph)) // and the rest of the sequence is a valid
}
predicate closed(graph: set&lt;Node&gt;)
   reads graph
{
   forall i :: i in graph ==&gt; forall k :: 0 &lt;= k &lt; |i.next| ==&gt; i.next[k] in graph &amp;&amp; i.next[k] != i
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><div class="language-dafny line-numbers-mode"><pre class="language-text"><code>lemma DisproofLemma(p: seq&lt;Node&gt;, subgraph: set&lt;Node&gt;,
                    root: Node, goal: Node, graph: set&lt;Node&gt;)
   requires closed(subgraph) &amp;&amp; closed(graph) &amp;&amp; subgraph &lt;= graph
   requires root in subgraph &amp;&amp; goal in graph - subgraph
   ensures !pathSpecific(p, root, goal, graph)
{
   if 1 &lt; |p| &amp;&amp; p[0] == root &amp;&amp; p[|p|-1] == goal {
      if p[1] in p[0].next {
         DisproofLemma(p[1..], subgraph, p[1], goal, graph);
      }
   }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ç°åœ¨é—­å¼•ç†<code>DisproofLemma</code>è¢«éªŒè¯äº†ï¼Œéšç€æµ‹è¯•å‰æçš„ç§»é™¤ï¼Œæˆ‘ä»¬çœ‹åˆ°é—­å¼•ç†<code>ClosedLemma</code>ä¹Ÿè¢«éªŒè¯äº†ã€‚ç”±æ­¤è¯æ˜äº†å°é—­å­å›¾ä¸å­˜åœ¨ä»å†…éƒ¨åˆ°å¤–éƒ¨çš„è·¯å¾„ã€‚</p> <p>å½“ä¸€ä¸ªå¼•ç†éœ€è¦æ— é™æ¬¡å®ä¾‹åŒ–æ—¶ï¼Œ<code>forall</code>è¯­å¥æ˜¯æœ‰ç”¨çš„ã€‚è¿™ä¸ªä¾‹å­å±•ç¤ºäº†<code>forall</code>è¯­å¥çš„ä¸€ä¸ªç®€å•ç‰ˆæœ¬ã€‚è¦äº†è§£æ›´é«˜çº§çš„ç‰ˆæœ¬ï¼Œè¯·å‚è§Leinoçš„ã€ŠDafnyä¸­çš„è‰¯å¥½åŸºç¡€å‡½æ•°å’Œæç«¯è°“è¯:æ•™ç¨‹ã€‹ï¼Œiwill -2015ï¼Œæˆ–Dafnyæµ‹è¯•å¥—ä»¶ä¸­çš„ç¤ºä¾‹ã€‚</p> <p>æ°¸è¿œè®°å¾—æ£€æŸ¥ä½ çš„å¼•ç†æ˜¯å¦è¶³ä»¥è¯æ˜ä½ éœ€è¦çš„ã€‚æ²¡æœ‰ä»€ä¹ˆæ¯”èŠ±æ—¶é—´åšå¼•ç†éªŒè¯ï¼Œç»“æœå‘ç°ä½ éœ€è¦æ›´å¼ºå¤§çš„ä¸œè¥¿æ›´ä»¤äººæ²®ä¸§çš„äº†ã€‚è¿™ä¹Ÿå¯ä»¥è®©ä½ é¿å…åˆ›å»ºä¸€ä¸ªå¸¦æœ‰å‰ç½®æ¡ä»¶çš„å¼•ç†ï¼Œå› ä¸ºå‰ç½®æ¡ä»¶çš„é™åˆ¶å¤ªå¤§ï¼Œä»¥è‡³äºä½ ä¸èƒ½åœ¨éœ€è¦çš„åœ°æ–¹è°ƒç”¨å®ƒã€‚</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/aaron-clou/dafnycommunity/edit/master/docs/30.æ•™ç¨‹/10.Dafnyè¿›é˜¶è¯­æ³•/00.å¼•ç†å’Œå½’çº³.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/03/26, 19:35:15</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/dafnycommunity/pages/30a8c2/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">ç»“è®º</div></a> <a href="/dafnycommunity/pages/9d19b8/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">æ¨¡å—</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/dafnycommunity/pages/30a8c2/" class="prev">ç»“è®º</a></span> <span class="next"><a href="/dafnycommunity/pages/9d19b8/">æ¨¡å—</a>â†’
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/dafnycommunity/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/dafnycommunity/pages/0978ce/"><div>
            å¯»æ‰¾æœ€å¤§å’Œæœ€å°æ•°
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>02</dd> <dt><a href="/dafnycommunity/pages/e3e481/"><div>
            æ–æ³¢é‚£å¥‘æ•°åˆ—
            <!----></div></a> <span class="date">04-06</span></dt></dl><dl><dd>03</dd> <dt><a href="/dafnycommunity/pages/02fdef/"><div>
            çº¿æ€§æŸ¥è¯¢
            <!----></div></a> <span class="date">04-06</span></dt></dl> <dl><dd></dd> <dt><a href="/dafnycommunity/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/Aaron-clou/dafnycommunity" title="Github" target="_blank" class="iconfont icon-github-fill"></a><a href="https://gitee.com/leo214/dafnycommunity" title="Gitee" target="_blank" class="iconfont icon-gitee2"></a><a href="1374921025@qq.com" title="Email" target="_blank" class="iconfont icon-email-fill"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2022-2022
    <span>Li Jiahai | Dafny Community | 2022</span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div id="tcomment"></div><div></div></div></div>
    <script src="/dafnycommunity/assets/js/app.99d07194.js" defer></script><script src="/dafnycommunity/assets/js/2.ab4658c0.js" defer></script><script src="/dafnycommunity/assets/js/50.060e0424.js" defer></script><script src="/dafnycommunity/assets/js/7.5451cfed.js" defer></script><script src="/dafnycommunity/assets/js/4.06497870.js" defer></script>
  </body>
</html>
